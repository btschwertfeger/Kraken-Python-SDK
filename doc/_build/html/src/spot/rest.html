<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spot REST &mdash; python-kraken-sdk  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Spot Websockets" href="websockets.html" />
    <link rel="prev" title="Futures Trading Bot Template" href="../examples/trading_bot_templates/futures_bot_template.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            python-kraken-sdk
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/rest_example_usage.html">Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/trading_bot_templates.html">Trading Bot Templates</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Spot REST</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#kraken.spot.User"><code class="docutils literal notranslate"><span class="pre">User</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.account_transfer"><code class="docutils literal notranslate"><span class="pre">User.account_transfer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.create_subaccount"><code class="docutils literal notranslate"><span class="pre">User.create_subaccount()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.delete_export_report"><code class="docutils literal notranslate"><span class="pre">User.delete_export_report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_account_balance"><code class="docutils literal notranslate"><span class="pre">User.get_account_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_balance"><code class="docutils literal notranslate"><span class="pre">User.get_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_balances"><code class="docutils literal notranslate"><span class="pre">User.get_balances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_closed_orders"><code class="docutils literal notranslate"><span class="pre">User.get_closed_orders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_export_report_status"><code class="docutils literal notranslate"><span class="pre">User.get_export_report_status()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_ledgers"><code class="docutils literal notranslate"><span class="pre">User.get_ledgers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_ledgers_info"><code class="docutils literal notranslate"><span class="pre">User.get_ledgers_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_open_orders"><code class="docutils literal notranslate"><span class="pre">User.get_open_orders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_open_positions"><code class="docutils literal notranslate"><span class="pre">User.get_open_positions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_orders_info"><code class="docutils literal notranslate"><span class="pre">User.get_orders_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_trade_balance"><code class="docutils literal notranslate"><span class="pre">User.get_trade_balance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_trade_volume"><code class="docutils literal notranslate"><span class="pre">User.get_trade_volume()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_trades_history"><code class="docutils literal notranslate"><span class="pre">User.get_trades_history()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.get_trades_info"><code class="docutils literal notranslate"><span class="pre">User.get_trades_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.request_export_report"><code class="docutils literal notranslate"><span class="pre">User.request_export_report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.retrieve_export"><code class="docutils literal notranslate"><span class="pre">User.retrieve_export()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.User.return_unique_id"><code class="docutils literal notranslate"><span class="pre">User.return_unique_id</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kraken.spot.Market"><code class="docutils literal notranslate"><span class="pre">Market</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_asset_pairs"><code class="docutils literal notranslate"><span class="pre">Market.get_asset_pairs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_assets"><code class="docutils literal notranslate"><span class="pre">Market.get_assets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_ohlc"><code class="docutils literal notranslate"><span class="pre">Market.get_ohlc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_order_book"><code class="docutils literal notranslate"><span class="pre">Market.get_order_book()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_recent_spreads"><code class="docutils literal notranslate"><span class="pre">Market.get_recent_spreads()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_recent_trades"><code class="docutils literal notranslate"><span class="pre">Market.get_recent_trades()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_system_status"><code class="docutils literal notranslate"><span class="pre">Market.get_system_status()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.get_ticker"><code class="docutils literal notranslate"><span class="pre">Market.get_ticker()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Market.return_unique_id"><code class="docutils literal notranslate"><span class="pre">Market.return_unique_id</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kraken.spot.Trade"><code class="docutils literal notranslate"><span class="pre">Trade</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.cancel_all_orders"><code class="docutils literal notranslate"><span class="pre">Trade.cancel_all_orders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.cancel_all_orders_after_x"><code class="docutils literal notranslate"><span class="pre">Trade.cancel_all_orders_after_x()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.cancel_order"><code class="docutils literal notranslate"><span class="pre">Trade.cancel_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.cancel_order_batch"><code class="docutils literal notranslate"><span class="pre">Trade.cancel_order_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.create_order"><code class="docutils literal notranslate"><span class="pre">Trade.create_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.create_order_batch"><code class="docutils literal notranslate"><span class="pre">Trade.create_order_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.edit_order"><code class="docutils literal notranslate"><span class="pre">Trade.edit_order()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.return_unique_id"><code class="docutils literal notranslate"><span class="pre">Trade.return_unique_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Trade.truncate"><code class="docutils literal notranslate"><span class="pre">Trade.truncate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kraken.spot.Funding"><code class="docutils literal notranslate"><span class="pre">Funding</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.cancel_withdraw"><code class="docutils literal notranslate"><span class="pre">Funding.cancel_withdraw()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.get_deposit_address"><code class="docutils literal notranslate"><span class="pre">Funding.get_deposit_address()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.get_deposit_methods"><code class="docutils literal notranslate"><span class="pre">Funding.get_deposit_methods()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.get_recent_deposits_status"><code class="docutils literal notranslate"><span class="pre">Funding.get_recent_deposits_status()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.get_recent_withdraw_status"><code class="docutils literal notranslate"><span class="pre">Funding.get_recent_withdraw_status()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.get_withdrawal_info"><code class="docutils literal notranslate"><span class="pre">Funding.get_withdrawal_info()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.return_unique_id"><code class="docutils literal notranslate"><span class="pre">Funding.return_unique_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.wallet_transfer"><code class="docutils literal notranslate"><span class="pre">Funding.wallet_transfer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.withdraw_addresses"><code class="docutils literal notranslate"><span class="pre">Funding.withdraw_addresses()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.withdraw_funds"><code class="docutils literal notranslate"><span class="pre">Funding.withdraw_funds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Funding.withdraw_methods"><code class="docutils literal notranslate"><span class="pre">Funding.withdraw_methods()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kraken.spot.Staking"><code class="docutils literal notranslate"><span class="pre">Staking</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.get_pending_staking_transactions"><code class="docutils literal notranslate"><span class="pre">Staking.get_pending_staking_transactions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.list_stakeable_assets"><code class="docutils literal notranslate"><span class="pre">Staking.list_stakeable_assets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.list_staking_transactions"><code class="docutils literal notranslate"><span class="pre">Staking.list_staking_transactions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.return_unique_id"><code class="docutils literal notranslate"><span class="pre">Staking.return_unique_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.stake_asset"><code class="docutils literal notranslate"><span class="pre">Staking.stake_asset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kraken.spot.Staking.unstake_asset"><code class="docutils literal notranslate"><span class="pre">Staking.unstake_asset()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="websockets.html">Spot Websockets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../futures/rest.html">Futures REST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../futures/websockets.html">Futures Websockets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_api/base_api.html">Base Clients and Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions/exceptions.html">Custom Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">python-kraken-sdk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Spot REST</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/btschwertfeger/python-kraken-sdk/blob/master/docs/src/spot/rest.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="spot-rest">
<h1>Spot REST<a class="headerlink" href="#spot-rest" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="kraken.spot.User">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kraken.spot.</span></span><span class="sig-name descname"><span class="pre">User</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kraken.spot.User" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../base_api/base_api.html#kraken.base_api.KrakenSpotBaseAPI" title="kraken.base_api.KrakenSpotBaseAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KrakenSpotBaseAPI</span></code></a></p>
<p>Class that implements the Kraken Spot User client</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API public key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>secret</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API secret key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>url</strong> (<em>str</em><em>, </em><em>optional</em>) – The URL to access the Kraken API (default:
<a class="reference external" href="https://api.kraken.com">https://api.kraken.com</a>)</p></li>
<li><p><strong>sandbox</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use the sandbox (not supported for Spot trading so far,
default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Spot User: Create the user client</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">()</span> <span class="c1"># unauthenticated</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth_user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="c1"># authenticated</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Spot User: Create the user client as context manager</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">user</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">get_account_balances</span><span class="p">())</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.account_transfer">
<span class="sig-name descname"><span class="pre">account_transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.account_transfer" title="Link to this definition"></a></dt>
<dd><p>Transfer funds between master and subaccounts. This is currently <em>only
available for institutional clients and must be called by the master
account</em>.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#tag/User-Subaccounts/operation/accountTransfer">https://docs.kraken.com/rest/#tag/User-Subaccounts/operation/accountTransfer</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – The asset to transfer</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount of that asset to transfer</p></li>
<li><p><strong>from</strong> (<em>str</em>) – The source account (IIBAN)</p></li>
<li><p><strong>to</strong> (<em>str</em>) – The destination account (IIBAN)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Spot User: Transfer funds between accounts</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">account_transfer</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="s2">&quot;XBT&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;ABCD 1234 EFGH 5678&quot;</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;IJKL 0987 MNOP 6543&quot;</span>
<span class="linenos"> 8</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 9</span><span class="go">{</span>
<span class="linenos">10</span><span class="go">    &#39;result&#39;: {</span>
<span class="linenos">11</span><span class="go">        &#39;transfer_id&#39;: &#39;TOH3AS2-LPCWR8-JDQGEU&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;status&#39;: &#39;complete&#39;</span>
<span class="linenos">13</span><span class="go">    }</span>
<span class="linenos">14</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.create_subaccount">
<span class="sig-name descname"><span class="pre">create_subaccount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.create_subaccount" title="Link to this definition"></a></dt>
<dd><p>Create a subaccount for trading. This is currently <em>only available for
institutional clients</em>.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#tag/User-Subaccounts">https://docs.kraken.com/rest/#tag/User-Subaccounts</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>str</em>) – The username for the new subaccount</p></li>
<li><p><strong>email</strong> (<em>str</em>) – The E-Mail address for the new subaccount</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Spot User: Create a subaccount</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">create_subaccount</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@domain.com&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{ &#39;result&#39;: True }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.delete_export_report">
<span class="sig-name descname"><span class="pre">delete_export_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'delete'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.delete_export_report" title="Link to this definition"></a></dt>
<dd><p>Delete a report from the Kraken server.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">data</span></code> permission. In addition for exporting
trades data the permissions <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> must be set. For exporting ledgers the <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> must be set.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/removeExport">https://docs.kraken.com/rest/#operation/removeExport</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – The id of the report</p></li>
<li><p><strong>type</strong> (<em>str</em><em>, </em><em>optional</em>) – The type of the export, one of: <code class="docutils literal notranslate"><span class="pre">cancel</span></code> and <code class="docutils literal notranslate"><span class="pre">delete</span></code>
(default: <code class="docutils literal notranslate"><span class="pre">delete</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Spot User: Delete or cancel the report</span><a class="headerlink" href="#id5" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">delete_export_report</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s2">&quot;GEHI&quot;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="s2">&quot;delete&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{ &#39;delete&#39;: True }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_account_balance">
<span class="sig-name descname"><span class="pre">get_account_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_account_balance" title="Link to this definition"></a></dt>
<dd><p>Get the current balances of the user.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getAccountBalance">https://docs.kraken.com/rest/#operation/getAccountBalance</a></p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the account balances</span><a class="headerlink" href="#id6" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_account_balances</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;ZUSD&#39;: &#39;241983.1415&#39;,</span>
<span class="linenos"> 6</span><span class="go">    &#39;KFEE&#39;: &#39;8020.22&#39;,</span>
<span class="linenos"> 7</span><span class="go">    &#39;BCH&#39;: &#39;0.0000077100&#39;,</span>
<span class="linenos"> 8</span><span class="go">    &#39;ETHW&#39;: &#39;0.0000040&#39;,</span>
<span class="linenos"> 9</span><span class="go">    &#39;XXLM&#39;: &#39;0.00000000&#39;,</span>
<span class="linenos">10</span><span class="go">    &#39;ZEUR&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">11</span><span class="go">    &#39;DOT&#39;: &#39;32011.21197000&#39;,</span>
<span class="linenos">12</span><span class="go">    ...</span>
<span class="linenos">13</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_balance">
<span class="sig-name descname"><span class="pre">get_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_balance" title="Link to this definition"></a></dt>
<dd><p>Returns the balance and available balance of a given currency.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>currency</strong> (<em>str</em>) – The currency to get the balances from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing the <code class="docutils literal notranslate"><span class="pre">currency</span></code> (currency as string),
<code class="docutils literal notranslate"><span class="pre">balance</span></code> (including value in orders), and <code class="docutils literal notranslate"><span class="pre">available_balance</span></code>
(amount that is not in orders)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Spot User: Get balance</span><a class="headerlink" href="#id7" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_balance</span><span class="p">(</span><span class="n">currency</span><span class="o">=</span><span class="s2">&quot;EUR&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{</span>
<span class="linenos">5</span><span class="go">    &#39;currency&#39;: &#39;ZEUR&#39;,</span>
<span class="linenos">6</span><span class="go">    &#39;balance&#39;: 6011.2119,</span>
<span class="linenos">7</span><span class="go">    &#39;available_balance&#39;: 4999.0619</span>
<span class="linenos">8</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_balances">
<span class="sig-name descname"><span class="pre">get_balances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_balances" title="Link to this definition"></a></dt>
<dd><p>Retrieve the user’s asset balances and the the corresponding amount held
by open orders.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing the <code class="docutils literal notranslate"><span class="pre">currency</span></code> as keys, that hold a
dictionary containing the <code class="docutils literal notranslate"><span class="pre">balance</span></code> key holding the actual balance
including the value in orders and the <code class="docutils literal notranslate"><span class="pre">hold_trade</span></code> key that
represents the amount held in open orders.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Spot User: Get balances</span><a class="headerlink" href="#id8" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_balances</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;XXLM&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;balance&#39;: &#39;0.00000000&#39;, &#39;hold_trade&#39;: &#39;0.00000000&#39;</span>
<span class="linenos"> 7</span><span class="go">    },</span>
<span class="linenos"> 8</span><span class="go">    &#39;ZEUR&#39;: {</span>
<span class="linenos"> 9</span><span class="go">        &#39;balance&#39;: &#39;500.0000&#39;, &#39;hold_trade&#39;: &#39;0.0000&#39;</span>
<span class="linenos">10</span><span class="go">    },</span>
<span class="linenos">11</span><span class="go">    &#39;XXBT&#39;: {</span>
<span class="linenos">12</span><span class="go">        &#39;balance&#39;: &#39;2.1031709100&#39;, &#39;hold_trade&#39;: &#39;0.1401000000&#39;</span>
<span class="linenos">13</span><span class="go">    },</span>
<span class="linenos">14</span><span class="go">    &#39;KFEE&#39;: {</span>
<span class="linenos">15</span><span class="go">        &#39;balance&#39;: &#39;1407.73&#39;, &#39;hold_trade&#39;: &#39;0.00&#39;</span>
<span class="linenos">16</span><span class="go">    },</span>
<span class="linenos">17</span><span class="go">    ...</span>
<span class="linenos">18</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_closed_orders">
<span class="sig-name descname"><span class="pre">get_closed_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ofs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closetime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_closed_orders" title="Link to this definition"></a></dt>
<dd><p>Get the 50 latest closed (filled or canceled) orders.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> permission in the API key
settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getClosedOrders">https://docs.kraken.com/rest/#operation/getClosedOrders</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userref</strong> (<em>int</em><em>, </em><em>optional</em>) – Filter the results by user reference id</p></li>
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp to start the search from</p></li>
<li><p><strong>end</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp to define the last result to include</p></li>
<li><p><strong>ofs</strong> (<em>int</em><em>, </em><em>optional</em>) – Offset for pagination</p></li>
<li><p><strong>closetime</strong> (<em>str</em><em>, </em><em>optional</em>) – Specify the exact time frame, one of: <code class="docutils literal notranslate"><span class="pre">both</span></code>,
<code class="docutils literal notranslate"><span class="pre">open</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code> (default: <code class="docutils literal notranslate"><span class="pre">both</span></code>)</p></li>
<li><p><strong>trades</strong> (<em>bool</em>) – Include trades related to position into the response or
not (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the closed orders</span><a class="headerlink" href="#id9" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_closed_orders</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;closed&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;OBGFYP-XVQNL-P4GMWF&#39;: {</span>
<span class="linenos"> 7</span><span class="go">            &#39;refid&#39;: None,</span>
<span class="linenos"> 8</span><span class="go">            &#39;userref&#39;: 0,</span>
<span class="linenos"> 9</span><span class="go">            &#39;status&#39;: &#39;closed&#39;,</span>
<span class="linenos">10</span><span class="go">            &#39;opentm&#39;: 1680698929.9052045,</span>
<span class="linenos">11</span><span class="go">            &#39;starttm&#39;: 0,</span>
<span class="linenos">12</span><span class="go">            &#39;expiretm&#39;: 0,</span>
<span class="linenos">13</span><span class="go">            &#39;descr&#39;: {</span>
<span class="linenos">14</span><span class="go">                &#39;pair&#39;: &#39;ETHUSD&#39;,</span>
<span class="linenos">15</span><span class="go">                &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">16</span><span class="go">                &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">17</span><span class="go">                &#39;price&#39;: &#39;1860.76&#39;,</span>
<span class="linenos">18</span><span class="go">                &#39;price2&#39;: &#39;0&#39;,</span>
<span class="linenos">19</span><span class="go">                &#39;leverage&#39;: &#39;none&#39;,</span>
<span class="linenos">20</span><span class="go">                &#39;order&#39;: &#39;buy 0.02000000 ETHUSD @ limit 1860.76&#39;,</span>
<span class="linenos">21</span><span class="go">                &#39;close&#39;: &#39;&#39;</span>
<span class="linenos">22</span><span class="go">            },</span>
<span class="linenos">23</span><span class="go">            &#39;vol&#39;: &#39;0.02000000&#39;,</span>
<span class="linenos">24</span><span class="go">            &#39;vol_exec&#39;: &#39;0.02000000&#39;,</span>
<span class="linenos">25</span><span class="go">            &#39;cost&#39;: &#39;37.21520&#39;,</span>
<span class="linenos">26</span><span class="go">            &#39;fee&#39;: &#39;0.05954&#39;,</span>
<span class="linenos">27</span><span class="go">            &#39;price&#39;: &#39;1860.76&#39;,</span>
<span class="linenos">28</span><span class="go">            &#39;stopprice&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">29</span><span class="go">            &#39;limitprice&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">30</span><span class="go">            &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">31</span><span class="go">            &#39;oflags&#39;: &#39;fciq&#39;,</span>
<span class="linenos">32</span><span class="go">            &#39;reason&#39;: None,</span>
<span class="linenos">33</span><span class="go">            &#39;closetm&#39;: 1680777419.8115675</span>
<span class="linenos">34</span><span class="go">        },</span>
<span class="linenos">35</span><span class="go">        &#39;OAUHYR-YCVK6-P22G6P&#39;: {</span>
<span class="linenos">36</span><span class="go">            ...</span>
<span class="linenos">37</span><span class="go">        }</span>
<span class="linenos">38</span><span class="go">    }</span>
<span class="linenos">39</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_export_report_status">
<span class="sig-name descname"><span class="pre">get_export_report_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_export_report_status" title="Link to this definition"></a></dt>
<dd><p>Get the status of the current pending report.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">data</span></code> permission. In addition for exporting
trades data the permissions <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> must be set. For exporting ledgers the <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> must be set.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/exportStatus">https://docs.kraken.com/rest/#operation/exportStatus</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>report</strong> (<em>str</em>) – Kind of report, one of: <code class="docutils literal notranslate"><span class="pre">trades</span></code>, <code class="docutils literal notranslate"><span class="pre">ledgers</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about the pending report</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Example</span><a class="headerlink" href="#id10" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">request_export_report</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">report</span><span class="o">=</span><span class="s2">&quot;ledgers&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;myLedgers1&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;CSV&quot;</span>
<span class="linenos"> 5</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 6</span><span class="go">{ &#39;id&#39;: &#39;GEHI&#39; }</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_export_report_status</span><span class="p">(</span><span class="n">report</span><span class="o">=</span><span class="s2">&quot;ledgers&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go">[</span>
<span class="linenos"> 9</span><span class="go">    {</span>
<span class="linenos">10</span><span class="go">        &#39;id&#39;: &#39;GEHI&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;descr&#39;: &#39;myLedgers1&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;format&#39;: &#39;CSV&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;report&#39;: &#39;ledgers&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;status&#39;: &#39;Queued&#39;,</span>
<span class="linenos">15</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos">16</span><span class="go">        &#39;fields&#39;: &#39;all&#39;,</span>
<span class="linenos">17</span><span class="go">        &#39;asset&#39;: &#39;all&#39;,</span>
<span class="linenos">18</span><span class="go">        &#39;subtype&#39;: &#39;all&#39;,</span>
<span class="linenos">19</span><span class="go">        &#39;starttm&#39;: &#39;1680307200&#39;,</span>
<span class="linenos">20</span><span class="go">        &#39;endtm&#39;: &#39;1680855267&#39;,</span>
<span class="linenos">21</span><span class="go">        &#39;createdtm&#39;: &#39;1680855267&#39;,</span>
<span class="linenos">22</span><span class="go">        &#39;expiretm&#39;: &#39;1682064867&#39;,</span>
<span class="linenos">23</span><span class="go">        &#39;completedtm&#39;: &#39;0&#39;,</span>
<span class="linenos">24</span><span class="go">        &#39;datastarttm&#39;: &#39;1680307200&#39;,</span>
<span class="linenos">25</span><span class="go">        &#39;dataendtm&#39;: &#39;1680855267&#39;,</span>
<span class="linenos">26</span><span class="go">        &#39;flags&#39;: &#39;0&#39;</span>
<span class="linenos">27</span><span class="go">    }</span>
<span class="linenos">28</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_ledgers">
<span class="sig-name descname"><span class="pre">get_ledgers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_ledgers" title="Link to this definition"></a></dt>
<dd><p>Get information about specific ledeger entries.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> permissions in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getLedgersInfo">https://docs.kraken.com/rest/#operation/getLedgersInfo</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – Ledger id as string, list of strings, or comma delimited
list of ledger ids as string</p></li>
<li><p><strong>trades</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include trades related to a position or not (default:
<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">Spot User: Get ledgers</span><a class="headerlink" href="#id11" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_ledgers</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="s2">&quot;LKLSX7-VUXD4-HDLK2P&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;LKLSX7-VUXD4-HDLK2P&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;amount&#39;: &#39;0.00&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;asset&#39;: &#39;FEE&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;balance&#39;: &#39;8020.22&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;fee&#39;: &#39;5.95&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;refid&#39;: &#39;TPLJ5E-NONOU-5LH7JL&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;time&#39;: 1680777419.8115911,</span>
<span class="linenos">13</span><span class="go">        &#39;type&#39;: &#39;trade&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;subtype&#39;: &#39;&#39;</span>
<span class="linenos">15</span><span class="go">    }</span>
<span class="linenos">16</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_ledgers_info">
<span class="sig-name descname"><span class="pre">get_ledgers_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'currency'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ofs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_ledgers_info" title="Link to this definition"></a></dt>
<dd><p>Get information about the users ledger entries. 50 results can be
returned at a time.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> permissions in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getLedgers">https://docs.kraken.com/rest/#operation/getLedgers</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – The asset(s) to filter for (default: <code class="docutils literal notranslate"><span class="pre">all</span></code>)</p></li>
<li><p><strong>aclass</strong> (<em>str</em>) – The asset class (default: <code class="docutils literal notranslate"><span class="pre">currency</span></code> )</p></li>
<li><p><strong>type</strong> (<em>str</em><em>, </em><em>optional</em>) – Ledger type, one of: <code class="docutils literal notranslate"><span class="pre">all</span></code>, <code class="docutils literal notranslate"><span class="pre">deposit</span></code>, <code class="docutils literal notranslate"><span class="pre">withdrawal</span></code>,
<code class="docutils literal notranslate"><span class="pre">trade</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">rollover</span></code>, <code class="docutils literal notranslate"><span class="pre">credit</span></code>, <code class="docutils literal notranslate"><span class="pre">transfer</span></code>,
<code class="docutils literal notranslate"><span class="pre">settled</span></code>, <code class="docutils literal notranslate"><span class="pre">staking</span></code>, and <code class="docutils literal notranslate"><span class="pre">sale</span></code> (default: <code class="docutils literal notranslate"><span class="pre">all</span></code>)</p></li>
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp to start the search from</p></li>
<li><p><strong>end</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp to define the last result</p></li>
<li><p><strong>ofs</strong> (<em>int</em><em>, </em><em>optional</em>) – Offset for pagination</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Spot User: Get ledgers info</span><a class="headerlink" href="#id12" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_ledgers_info</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;KFEE&quot;</span><span class="p">,</span><span class="s2">&quot;EUR&quot;</span><span class="p">,</span><span class="s2">&quot;ETH&quot;</span><span class="p">])</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;count&#39;: 519,</span>
<span class="linenos"> 6</span><span class="go">    &#39;ledger&#39;: {</span>
<span class="linenos"> 7</span><span class="go">        &#39;LKLSX7-VUXD4-HDLK2P&#39;: {</span>
<span class="linenos"> 8</span><span class="go">            &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 9</span><span class="go">            &#39;amount&#39;: &#39;0.00&#39;,</span>
<span class="linenos">10</span><span class="go">            &#39;asset&#39;: &#39;KFEE&#39;,</span>
<span class="linenos">11</span><span class="go">            &#39;balance&#39;: &#39;8020.22&#39;,</span>
<span class="linenos">12</span><span class="go">            &#39;fee&#39;: &#39;5.95&#39;,</span>
<span class="linenos">13</span><span class="go">            &#39;refid&#39;: &#39;TPLJ5E-NONOU-5LH7JL&#39;,</span>
<span class="linenos">14</span><span class="go">            &#39;time&#39;: 1680777419.8115911,</span>
<span class="linenos">15</span><span class="go">            &#39;type&#39;: &#39;trade&#39;,</span>
<span class="linenos">16</span><span class="go">            &#39;subtype&#39;: &#39;&#39;</span>
<span class="linenos">17</span><span class="go">        },</span>
<span class="linenos">18</span><span class="go">        &#39;L4BF6E-FIFW7-6UB2CI&#39;: { ... },</span>
<span class="linenos">19</span><span class="go">        ...</span>
<span class="linenos">20</span><span class="go">    }</span>
<span class="linenos">21</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_open_orders">
<span class="sig-name descname"><span class="pre">get_open_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_open_orders" title="Link to this definition"></a></dt>
<dd><p>Get information about the open orders.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> permission in the API key
settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getOpenOrders">https://docs.kraken.com/rest/#operation/getOpenOrders</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>userref</strong> (<em>int</em><em>, </em><em>optional</em>) – Filter the results by user reference id</p></li>
<li><p><strong>trades</strong> (<em>bool</em>) – Include trades related to position or not into the
response (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the open orders</span><a class="headerlink" href="#id13" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_open_orders</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;open&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;OCUG7Z-4EM5R-7ZCJ47&#39;: {</span>
<span class="linenos"> 7</span><span class="go">            &#39;refid&#39;: None,</span>
<span class="linenos"> 8</span><span class="go">            &#39;userref&#39;: 0,</span>
<span class="linenos"> 9</span><span class="go">            &#39;status&#39;:</span>
<span class="linenos">10</span><span class="go">            &#39;open&#39;,</span>
<span class="linenos">11</span><span class="go">            &#39;opentm&#39;: 1680777427.576083,</span>
<span class="linenos">12</span><span class="go">            &#39;starttm&#39;: 0,</span>
<span class="linenos">13</span><span class="go">            &#39;expiretm&#39;: 0,</span>
<span class="linenos">14</span><span class="go">            &#39;descr&#39;: {</span>
<span class="linenos">15</span><span class="go">                &#39;pair&#39;: &#39;ETHUSD&#39;,</span>
<span class="linenos">16</span><span class="go">                &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">17</span><span class="go">                &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">18</span><span class="go">                &#39;price&#39;: &#39;1720.37&#39;,</span>
<span class="linenos">19</span><span class="go">                &#39;price2&#39;: &#39;0&#39;,</span>
<span class="linenos">20</span><span class="go">                &#39;leverage&#39;: &#39;none&#39;,</span>
<span class="linenos">21</span><span class="go">                &#39;order&#39;: &#39;buy 0.02000000 ETHUSD @ limit 1720.37&#39;,</span>
<span class="linenos">22</span><span class="go">                &#39;close&#39;: &#39;&#39;</span>
<span class="linenos">23</span><span class="go">            },</span>
<span class="linenos">24</span><span class="go">            &#39;vol&#39;: &#39;0.02000000&#39;,</span>
<span class="linenos">25</span><span class="go">            &#39;vol_exec&#39;: &#39;0.00000000&#39;,</span>
<span class="linenos">26</span><span class="go">            &#39;cost&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">27</span><span class="go">            &#39;fee&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">28</span><span class="go">            &#39;price&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">29</span><span class="go">            &#39;stopprice&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">30</span><span class="go">            &#39;limitprice&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">31</span><span class="go">            &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">32</span><span class="go">            &#39;oflags&#39;: &#39;fciq&#39;</span>
<span class="linenos">33</span><span class="go">        },</span>
<span class="linenos">34</span><span class="go">        &#39;OFZP3V-UMMUJ-6HMRMB&#39;: {</span>
<span class="linenos">35</span><span class="go">            ...</span>
<span class="linenos">36</span><span class="go">        }</span>
<span class="linenos">37</span><span class="go">    }</span>
<span class="linenos">38</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_open_positions">
<span class="sig-name descname"><span class="pre">get_open_positions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consolidation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'market'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">docalcs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_open_positions" title="Link to this definition"></a></dt>
<dd><p>Get information about the open margin positions.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> permission in the API key
settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getOpenPositions">https://docs.kraken.com/rest/#operation/getOpenPositions</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txid</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Filter by txid or list of txids or comma delimited list of
txids as string</p></li>
<li><p><strong>consolidation</strong> (<em>str</em><em>, </em><em>optional</em>) – Consolidate positions by market/pair (default:
<code class="docutils literal notranslate"><span class="pre">market</span></code>)</p></li>
<li><p><strong>docalcs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include profit and loss calculation into the result
(default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of open positions</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the open margin positions</span><a class="headerlink" href="#id14" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_open_positions</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;TF5GVO-T7ZZ2-6NBKBI&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;ordertxid&#39;: &#39;O0SFFP-ABH4R-LOLNFG&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;posstatus&#39;: &#39;open&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;pair&#39;: &#39;XXBTZUSD&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;time&#39;: 1618748097.12341,</span>
<span class="linenos">10</span><span class="go">        &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;cost&#39;: &#39;801243.52842&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;fee&#39;: &#39;208.44527&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;vol&#39;: &#39;8.82412861&#39;,</span>
<span class="linenos">15</span><span class="go">        &#39;vol_closed&#39;: &#39;0.20200000&#39;,</span>
<span class="linenos">16</span><span class="go">        &#39;margin&#39;: &#39;17234.123968&#39;,</span>
<span class="linenos">17</span><span class="go">        &#39;value&quot;: &#39;231463.1&#39;,</span>
<span class="linenos">18</span><span class="go">        &#39;net&quot;: &#39;+134186.9728&#39;,</span>
<span class="linenos">19</span><span class="go">        &#39;terms&quot;: &#39;0.0100% per 4 hours&#39;,</span>
<span class="linenos">20</span><span class="go">        &#39;rollovertm&#39;: &#39;1623672637&#39;,</span>
<span class="linenos">21</span><span class="go">        &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">22</span><span class="go">        &#39;oflags&quot;: &#39;&#39;</span>
<span class="linenos">23</span><span class="go">    }, ...</span>
<span class="linenos">24</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_orders_info">
<span class="sig-name descname"><span class="pre">get_orders_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consolidate_taker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_orders_info" title="Link to this definition"></a></dt>
<dd><p>Get information about one or more orders.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span>
<span class="pre">trades</span></code> permissions in the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#tag/User-Data/operation/getOrdersInfo">https://docs.kraken.com/rest/#tag/User-Data/operation/getOrdersInfo</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txid</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – A transaction id of a specific order, a list of txids or a
string containing a comma delimited list of txids</p></li>
<li><p><strong>userref</strong> (<em>int</em><em>, </em><em>optional</em>) – Filter results by user reference id</p></li>
<li><p><strong>trades</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include trades in the result or not (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>consolidate_taker</strong> (<em>bool</em><em>, </em><em>optional</em>) – Consolidate trades by individual taker trades
(default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Spot User: Get order information</span><a class="headerlink" href="#id15" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_orders_info</span><span class="p">(</span><span class="n">txid</span><span class="o">=</span><span class="s2">&quot;OG5IL4-6AR7I-ZAPZEZ&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;OG5IL4-6AR7I-ZAPZEZ&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;refid&#39;: None,</span>
<span class="linenos"> 7</span><span class="go">        &#39;userref&#39;: 0,</span>
<span class="linenos"> 8</span><span class="go">        &#39;status&#39;: &#39;open&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;opentm&#39;: 1680618712.3723278,</span>
<span class="linenos">10</span><span class="go">        &#39;starttm&#39;: 0,</span>
<span class="linenos">11</span><span class="go">        &#39;expiretm&#39;: 0,</span>
<span class="linenos">12</span><span class="go">        &#39;descr&#39;: {</span>
<span class="linenos">13</span><span class="go">            &#39;pair&#39;: &#39;MATICUSD&#39;,</span>
<span class="linenos">14</span><span class="go">            &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">15</span><span class="go">            &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">16</span><span class="go">            &#39;price&#39;: &#39;1.0922&#39;,</span>
<span class="linenos">17</span><span class="go">            &#39;price2&#39;: &#39;0&#39;,</span>
<span class="linenos">18</span><span class="go">            &#39;leverage&#39;: &#39;none&#39;,</span>
<span class="linenos">19</span><span class="go">            &#39;order&#39;: &#39;buy 45.77910000 MATICUSD @ limit 1.0922&#39;,</span>
<span class="linenos">20</span><span class="go">            &#39;close&#39;: &#39;&#39;</span>
<span class="linenos">21</span><span class="go">        },</span>
<span class="linenos">22</span><span class="go">        &#39;vol&#39;: &#39;45.77910000&#39;,</span>
<span class="linenos">23</span><span class="go">        &#39;vol_exec&#39;: &#39;0.00000000&#39;,</span>
<span class="linenos">24</span><span class="go">        &#39;cost&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">25</span><span class="go">        &#39;fee&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">26</span><span class="go">        &#39;price&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">27</span><span class="go">        &#39;stopprice&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">28</span><span class="go">        &#39;limitprice&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">29</span><span class="go">        &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">30</span><span class="go">        &#39;oflags&#39;: &#39;fciq&#39;,</span>
<span class="linenos">31</span><span class="go">        &#39;reason&#39;: None</span>
<span class="linenos">32</span><span class="go">    }</span>
<span class="linenos">33</span><span class="go">}</span>
<span class="linenos">34</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_orders_info</span><span class="p">(</span><span class="n">txid</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;OAUHYR-YCVK6-P22G6P&quot;</span><span class="p">,</span> <span class="s2">&quot;OG5IL4-6AR7I-ZAPZEZ&quot;</span><span class="p">])</span>
<span class="linenos">35</span><span class="go">{</span>
<span class="linenos">36</span><span class="go">    &#39;OAUHYR-YCVK6-P22G6P&#39;: {</span>
<span class="linenos">37</span><span class="go">        &#39;refid&#39;: None,</span>
<span class="linenos">38</span><span class="go">        &#39;userref&#39;: 0,</span>
<span class="linenos">39</span><span class="go">        &#39;status&#39;: &#39;canceled&#39;,</span>
<span class="linenos">40</span><span class="go">        &#39;opentm&#39;: 1680618716.4409518,</span>
<span class="linenos">41</span><span class="go">        &#39;starttm&#39;: 0,</span>
<span class="linenos">42</span><span class="go">        &#39;expiretm&#39;: 0,</span>
<span class="linenos">43</span><span class="go">        &#39;descr&#39;: {</span>
<span class="linenos">44</span><span class="go">            &#39;pair&#39;: &#39;MATICUSD&#39;,</span>
<span class="linenos">45</span><span class="go">            &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">46</span><span class="go">            &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">47</span><span class="go">            &#39;price&#39;: &#39;1.0501&#39;,</span>
<span class="linenos">48</span><span class="go">            &#39;price2&#39;: &#39;0&#39;,</span>
<span class="linenos">49</span><span class="go">            &#39;leverage&#39;: &#39;none&#39;,</span>
<span class="linenos">50</span><span class="go">            &#39;order&#39;: &#39;buy 47.61450000 MATICUSD @ limit 1.0501&#39;,</span>
<span class="linenos">51</span><span class="go">            &#39;close&#39;: &#39;&#39;</span>
<span class="linenos">52</span><span class="go">        },</span>
<span class="linenos">53</span><span class="go">        &#39;vol&#39;: &#39;47.61450000&#39;,</span>
<span class="linenos">54</span><span class="go">        &#39;vol_exec&#39;: &#39;0.00000000&#39;,</span>
<span class="linenos">55</span><span class="go">        &#39;cost&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">56</span><span class="go">        &#39;fee&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">57</span><span class="go">        &#39;price&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">58</span><span class="go">        &#39;stopprice&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">59</span><span class="go">        &#39;limitprice&#39;: &#39;0.000000&#39;,</span>
<span class="linenos">60</span><span class="go">        &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">61</span><span class="go">        &#39;oflags&#39;: &#39;fciq&#39;,</span>
<span class="linenos">62</span><span class="go">        &#39;reason&#39;: &#39;User requested&#39;,</span>
<span class="linenos">63</span><span class="go">        &#39;closetm&#39;: 1680756419.5768735</span>
<span class="linenos">64</span><span class="go">    }</span>
<span class="linenos">65</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_trade_balance">
<span class="sig-name descname"><span class="pre">get_trade_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ZUSD'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_trade_balance" title="Link to this definition"></a></dt>
<dd><p>Get the summary of all collateral balances.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code>, <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code>, and
<code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> permissions in the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTradeBalance">https://docs.kraken.com/rest/#operation/getTradeBalance</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>asset</strong> (<em>str</em><em>, </em><em>optional</em>) – The base asset to determine the balances (default:
<code class="docutils literal notranslate"><span class="pre">ZUSD</span></code>)</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the trade balance</span><a class="headerlink" href="#id16" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_trade_balance</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;eb&#39;: &#39;983691.5512&#39;, # Equivalent balance - all currencies combined</span>
<span class="linenos"> 6</span><span class="go">    &#39;tb&#39;: &#39;322296.9914&#39;, # Trade balance - balance of all equity currencies</span>
<span class="linenos"> 7</span><span class="go">    &#39;m&#39;: &#39;0.0000&#39;,       # Margin amount of open positions</span>
<span class="linenos"> 8</span><span class="go">    &#39;uv&#39;: &#39;0.0000&#39;,      # Unexecuted value of partly filled orders/positions</span>
<span class="linenos"> 9</span><span class="go">    &#39;n&#39;: &#39;0.0000&#39;,       # Unrealized net profit/loss of open positions</span>
<span class="linenos">10</span><span class="go">    &#39;c&#39;: &#39;0.0000&#39;,       # Cost basis of open positions</span>
<span class="linenos">11</span><span class="go">    &#39;v&#39;: &#39;0.0000&#39;,       # Current floating value of open positions</span>
<span class="linenos">12</span><span class="go">    &#39;e&#39;: &#39;983691.5512&#39;,  # Equity ( eb + n )</span>
<span class="linenos">13</span><span class="go">    &#39;mf&#39;: &#39;322296.9914&#39;  # Free margin ( tb / initial margin ) * 100</span>
<span class="linenos">14</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_trade_volume">
<span class="sig-name descname"><span class="pre">get_trade_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fee_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_trade_volume" title="Link to this definition"></a></dt>
<dd><p>Get the 30-day user specific trading volume in USD.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTradeVolume">https://docs.kraken.com/rest/#operation/getTradeVolume</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Asset pair, list of asset pairs or comma delimited list (as
string) of asset pairs to filter</p></li>
<li><p><strong>fee_info</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include fee information or not (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the 30-day trade volume</span><a class="headerlink" href="#id17" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_trade_volume</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;currency&#39;: &#39;ZUSD&#39;,</span>
<span class="linenos"> 6</span><span class="go">    &#39;volume&#39;: &#39;212220.9741&#39;,</span>
<span class="linenos"> 7</span><span class="go">    &#39;fees&#39;: None,</span>
<span class="linenos"> 8</span><span class="go">    &#39;fees_maker&#39;: None</span>
<span class="linenos"> 9</span><span class="go">}</span>
<span class="linenos">10</span><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="o">.</span><span class="n">get_trade_volume</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;DOTUSD&quot;</span><span class="p">)</span>
<span class="linenos">11</span><span class="go">{</span>
<span class="linenos">12</span><span class="go">    &#39;currency&#39;: &#39;ZUSD&#39;,</span>
<span class="linenos">13</span><span class="go">    &#39;volume&#39;: &#39;212243.1210&#39;,</span>
<span class="linenos">14</span><span class="go">    &#39;fees&#39;: {</span>
<span class="linenos">15</span><span class="go">        &#39;DOTUSD&#39;: {</span>
<span class="linenos">16</span><span class="go">            &#39;fee&#39;: &#39;0.2200&#39;,</span>
<span class="linenos">17</span><span class="go">            &#39;minfee&#39;: &#39;0.1000&#39;,</span>
<span class="linenos">18</span><span class="go">            &#39;maxfee&#39;: &#39;0.2200&#39;,</span>
<span class="linenos">19</span><span class="go">            &#39;nextfee&#39;: &#39;0.2000&#39;,</span>
<span class="linenos">20</span><span class="go">            &#39;tiervolume&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">21</span><span class="go">            &#39;nextvolume&#39;: &#39;250000.0000&#39;</span>
<span class="linenos">22</span><span class="go">        }</span>
<span class="linenos">23</span><span class="go">    },</span>
<span class="linenos">24</span><span class="go">    &#39;fees_maker&#39;: {</span>
<span class="linenos">25</span><span class="go">        &#39;DOTUSD&#39;: {</span>
<span class="linenos">26</span><span class="go">            &#39;fee&#39;: &#39;0.1200&#39;,</span>
<span class="linenos">27</span><span class="go">            &#39;minfee&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">28</span><span class="go">            &#39;maxfee&#39;: &#39;0.1200&#39;,</span>
<span class="linenos">29</span><span class="go">            &#39;nextfee&#39;: &#39;0.1000&#39;,</span>
<span class="linenos">30</span><span class="go">            &#39;tiervolume&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">31</span><span class="go">            &#39;nextvolume&#39;: &#39;250000.0000&#39;</span>
<span class="linenos">32</span><span class="go">        }</span>
<span class="linenos">33</span><span class="go">    }</span>
<span class="linenos">34</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_trades_history">
<span class="sig-name descname"><span class="pre">get_trades_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ofs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consolidate_taker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_trades_history" title="Link to this definition"></a></dt>
<dd><p>Get information about the latest 50 trades and fills. Can be paginated.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> permission in the API key
settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTradeHistory">https://docs.kraken.com/rest/#operation/getTradeHistory</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by type of trade, one of: <code class="docutils literal notranslate"><span class="pre">all</span></code>, <code class="docutils literal notranslate"><span class="pre">any</span>
<span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">closed</span> <span class="pre">position</span></code>, <code class="docutils literal notranslate"><span class="pre">closing</span> <span class="pre">position</span></code>, and <code class="docutils literal notranslate"><span class="pre">no</span>
<span class="pre">position</span></code> (default: <code class="docutils literal notranslate"><span class="pre">all</span></code>)</p></li>
<li><p><strong>start</strong> (<em>int</em><em>, </em><em>optional</em>) – Timestamp or txid to start the search</p></li>
<li><p><strong>end</strong> (<em>int</em><em>, </em><em>optional</em>) – Timestamp or txid to define the last included result</p></li>
<li><p><strong>trades</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include trades related to a position or not (default:
<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>consolidate_taker</strong> (<em>bool</em>) – Consolidate trades by individual taker trades
(default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the trade history</span><a class="headerlink" href="#id18" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_trades_history</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;count&#39;: 630,</span>
<span class="linenos"> 6</span><span class="go">    &#39;trades&#39;: {</span>
<span class="linenos"> 7</span><span class="go">        &#39;TPLJ5E-NONOU-5LH7JL&#39;: {</span>
<span class="linenos"> 8</span><span class="go">            &#39;ordertxid&#39;: &#39;OBGFYP-XVQNL-P4GMWF&#39;,</span>
<span class="linenos"> 9</span><span class="go">            &#39;postxid&#39;: &#39;TKH2SE-M7IF5-CFI7LT&#39;,</span>
<span class="linenos">10</span><span class="go">            &#39;pair&#39;: &#39;XETHZUSD&#39;,</span>
<span class="linenos">11</span><span class="go">            &#39;time&#39;: 1680777419.8115635,</span>
<span class="linenos">12</span><span class="go">            &#39;type&#39;: &#39;buy&#39;,</span>
<span class="linenos">13</span><span class="go">            &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">14</span><span class="go">            &#39;price&#39;: &#39;1860.76000&#39;,</span>
<span class="linenos">15</span><span class="go">            &#39;cost&#39;: &#39;37.21520&#39;,</span>
<span class="linenos">16</span><span class="go">            &#39;fee&#39;: &#39;0.05954&#39;,</span>
<span class="linenos">17</span><span class="go">            &#39;vol&#39;: &#39;0.02000000&#39;,</span>
<span class="linenos">18</span><span class="go">            &#39;margin&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">19</span><span class="go">            &#39;leverage&#39;: &#39;0&#39;,</span>
<span class="linenos">20</span><span class="go">            &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">21</span><span class="go">            &#39;trade_id&#39;: 43914718</span>
<span class="linenos">22</span><span class="go">        },</span>
<span class="linenos">23</span><span class="go">        &#39;TNGMNU-XQSRA-LKCWOK&#39;: { ... },</span>
<span class="linenos">24</span><span class="go">        ...</span>
<span class="linenos">25</span><span class="go">    }</span>
<span class="linenos">26</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.get_trades_info">
<span class="sig-name descname"><span class="pre">get_trades_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.get_trades_info" title="Link to this definition"></a></dt>
<dd><p>Get information about specific trades/filled orders. 20 txids can be
queried maximum.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span>
<span class="pre">trades</span></code> permission in the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTradesInfo">https://docs.kraken.com/rest/#operation/getTradesInfo</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txid</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – txid or list of txids or comma delimited list of txids as
string</p></li>
<li><p><strong>trades</strong> (<em>bool</em>) – Include trades related to position in result (default:
<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Spot User: Get the historical trade information</span><a class="headerlink" href="#id19" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">get_trades_info</span><span class="p">(</span><span class="n">txid</span><span class="o">=</span><span class="s2">&quot;TNGMNU-XQSRA-LKCWOK&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;TNGMNU-XQSRA-LKCWOK&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;ordertxid&#39;: &#39;OHAJCS-ON45W-UIXHT7&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;postxid&#39;: &#39;TKH2SE-M7IF5-CFI7LT&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;pair&#39;: &#39;XETHZUSD&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;time&#39;: 1680606470.360982,</span>
<span class="linenos">10</span><span class="go">        &#39;type&#39;: &#39;sell&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;ordertype&#39;: &#39;limit&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;price&#39;: &#39;1855.16000&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;cost&#39;: &#39;37.10320&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;fee&#39;: &#39;0.05937&#39;,</span>
<span class="linenos">15</span><span class="go">        &#39;vol&#39;: &#39;0.02000000&#39;,</span>
<span class="linenos">16</span><span class="go">        &#39;margin&#39;: &#39;0.00000&#39;,</span>
<span class="linenos">17</span><span class="go">        &#39;leverage&#39;: &#39;0&#39;,</span>
<span class="linenos">18</span><span class="go">        &#39;misc&#39;: &#39;&#39;,</span>
<span class="linenos">19</span><span class="go">        &#39;trade_id&#39;: 43878042</span>
<span class="linenos">20</span><span class="go">    }</span>
<span class="linenos">21</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.request_export_report">
<span class="sig-name descname"><span class="pre">request_export_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'CSV'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endtm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.request_export_report" title="Link to this definition"></a></dt>
<dd><p>Request to export the trades or ledgers of the user.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">data</span></code> permission. In addition for exporting
trades data the permissions <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> must be set. For exporting ledgers the <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> must be set.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/addExport">https://docs.kraken.com/rest/#operation/addExport</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>report</strong> (<em>str</em>) – Kind of report, one of: <code class="docutils literal notranslate"><span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">ledgers</span></code></p></li>
<li><p><strong>format</strong> (<em>str</em>) – The export format of the requesting report, one of
<code class="docutils literal notranslate"><span class="pre">CSV</span></code> and <code class="docutils literal notranslate"><span class="pre">TSV</span></code> (default: <code class="docutils literal notranslate"><span class="pre">CSV</span></code>)</p></li>
<li><p><strong>fields</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Fields to include in the report (default: <code class="docutils literal notranslate"><span class="pre">all</span></code>)</p></li>
<li><p><strong>starttm</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp to start</p></li>
<li><p><strong>endtm</strong> (<em>int</em><em>, </em><em>optional</em>) – Unix timestamp of the last result</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – The timeout for that request (default: <code class="docutils literal notranslate"><span class="pre">10</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the export id</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Spot User: Request an report export</span><a class="headerlink" href="#id20" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="o">.</span><span class="n">request_export_report</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="n">report</span><span class="o">=</span><span class="s2">&quot;ledgers&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;myLedgers1&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;CSV&quot;</span>
<span class="linenos">5</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">6</span><span class="go">{ &#39;id&#39;: &#39;GEHI&#39; }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.User.retrieve_export">
<span class="sig-name descname"><span class="pre">retrieve_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.User.retrieve_export" title="Link to this definition"></a></dt>
<dd><p>Retrieve the requested report export.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">data</span></code> permission. In addition for exporting
trades data the permissions <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">open</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">closed</span> <span class="pre">orders</span> <span class="pre">&amp;</span> <span class="pre">trades</span></code> must be set. For exporting ledgers the <code class="docutils literal notranslate"><span class="pre">Query</span>
<span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">ledger</span> <span class="pre">entries</span></code> must be set.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/retrieveExport">https://docs.kraken.com/rest/#operation/retrieveExport</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – Id of the report that was requested</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Timeout for that request, default: <code class="docutils literal notranslate"><span class="pre">10</span></code> seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response - a zipped report</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>requests.Response</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Spot User: Save the exported report to CSV</span><a class="headerlink" href="#id21" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">User</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">request_export_report</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">report</span><span class="o">=</span><span class="s2">&quot;ledgers&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;myLedgers1&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;CSV&quot;</span>
<span class="linenos"> 5</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 6</span><span class="go">{ &#39;id&#39;: &#39;GEHI&#39; }</span>
<span class="linenos"> 7</span><span class="gp">&gt;&gt;&gt; </span><span class="n">ledgers_data</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">retrieve_export</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="n">response</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;myExport.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<span class="linenos"> 9</span><span class="gp">... </span>    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">ledgers_data</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">512</span><span class="p">):</span>
<span class="linenos">10</span><span class="gp">... </span>        <span class="k">if</span> <span class="n">chunk</span><span class="p">:</span>
<span class="linenos">11</span><span class="gp">... </span>            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kraken.spot.User.return_unique_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_unique_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#kraken.spot.User.return_unique_id" title="Link to this definition"></a></dt>
<dd><p>Returns a unique uuid string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uuid</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="kraken.spot.Market">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kraken.spot.</span></span><span class="sig-name descname"><span class="pre">Market</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kraken.spot.Market" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../base_api/base_api.html#kraken.base_api.KrakenSpotBaseAPI" title="kraken.base_api.KrakenSpotBaseAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KrakenSpotBaseAPI</span></code></a></p>
<p>Class that implements the Kraken Spot Market client. Can be used to access
the Kraken Spot market data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API public key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>secret</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API secret key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>url</strong> (<em>str</em><em>, </em><em>optional</em>) – Alternative URL to access the Kraken API (default:
<a class="reference external" href="https://api.kraken.com">https://api.kraken.com</a>)</p></li>
<li><p><strong>sandbox</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use the sandbox (not supported for Spot trading so far,
default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Spot Market: Create the market client</span><a class="headerlink" href="#id22" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">market</span> <span class="o">=</span> <span class="n">Market</span><span class="p">()</span> <span class="c1"># unauthenticated</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth_market</span> <span class="o">=</span> <span class="n">Market</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="c1"># authenticated</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Spot Market: Create the market client as context manager</span><a class="headerlink" href="#id23" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Market</span><span class="p">()</span> <span class="k">as</span> <span class="n">market</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">market</span><span class="o">.</span><span class="n">get_assets</span><span class="p">())</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_asset_pairs">
<span class="sig-name descname"><span class="pre">get_asset_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_asset_pairs" title="Link to this definition"></a></dt>
<dd><p>Get information about a single or multiple asset/currency pair(s). If
<code class="docutils literal notranslate"><span class="pre">pair</span></code> is left blank, all currency pairs will be returned.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTradableAssetPairs">https://docs.kraken.com/rest/#operation/getTradableAssetPairs</a></p></li>
</ul>
<p>This function uses caching. Run <code class="docutils literal notranslate"><span class="pre">get_asset_pairs.cache_clear()</span></code> to
clear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Filter by asset pair(s)</p></li>
<li><p><strong>info</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by info, can be one of: <code class="docutils literal notranslate"><span class="pre">info</span></code> (all info),
<code class="docutils literal notranslate"><span class="pre">leverage</span></code> (leverage info), <code class="docutils literal notranslate"><span class="pre">fees</span></code> (fee info), and <code class="docutils literal notranslate"><span class="pre">margin</span></code>
(margin info)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about the asset pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get information about tradeable asset pairs</span><a class="headerlink" href="#id24" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_asset_pairs</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &#39;XXBTZUSD&#39;: {</span>
<span class="linenos"> 5</span><span class="go">        &#39;altname&#39;: &#39;XBTUSD&#39;,</span>
<span class="linenos"> 6</span><span class="go">        &#39;wsname&#39;: &#39;XBT/USD&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;aclass_base&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;base&#39;: &#39;XXBT&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;aclass_quote&#39;: &#39;currency&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;quote&#39;: &#39;ZUSD&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;lot&#39;: &#39;unit&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;cost_decimals&#39;: 5,</span>
<span class="linenos">13</span><span class="go">        &#39;pair_decimals&#39;: 1,</span>
<span class="linenos">14</span><span class="go">        &#39;lot_decimals&#39;: 8,</span>
<span class="linenos">15</span><span class="go">        &#39;lot_multiplier&#39;: 1,</span>
<span class="linenos">16</span><span class="go">        &#39;leverage_buy&#39;: [2, 3, 4, 5],</span>
<span class="linenos">17</span><span class="go">        &#39;leverage_sell&#39;: [2, 3, 4, 5],</span>
<span class="linenos">18</span><span class="go">        &#39;fees&#39;: [</span>
<span class="linenos">19</span><span class="go">            [0, 0.26], [50000, 0.24], [100000, 0.22],</span>
<span class="linenos">20</span><span class="go">            [250000, 0.2], [500000, 0.18], [1000000, 0.16],</span>
<span class="linenos">21</span><span class="go">            [2500000, 0.14], [5000000, 0.12], [10000000, 0.1]</span>
<span class="linenos">22</span><span class="go">        ],</span>
<span class="linenos">23</span><span class="go">        &#39;fees_maker&#39;: [</span>
<span class="linenos">24</span><span class="go">            [0, 0.16], [50000, 0.14], [100000, 0.12],</span>
<span class="linenos">25</span><span class="go">            [250000, 0.1], [500000, 0.08], [1000000, 0.06],</span>
<span class="linenos">26</span><span class="go">            [2500000, 0.04], [5000000, 0.02], [10000000, 0.0]</span>
<span class="linenos">27</span><span class="go">        ],</span>
<span class="linenos">28</span><span class="go">        &#39;fee_volume_currency&#39;: &#39;ZUSD&#39;,</span>
<span class="linenos">29</span><span class="go">        &#39;margin_call&#39;: 80,</span>
<span class="linenos">30</span><span class="go">        &#39;margin_stop&#39;: 40,</span>
<span class="linenos">31</span><span class="go">        &#39;ordermin&#39;: &#39;0.0001&#39;,</span>
<span class="linenos">32</span><span class="go">        &#39;costmin&#39;: &#39;0.5&#39;,</span>
<span class="linenos">33</span><span class="go">        &#39;tick_size&#39;: &#39;0.1&#39;,</span>
<span class="linenos">34</span><span class="go">        &#39;status&#39;: &#39;online&#39;,</span>
<span class="linenos">35</span><span class="go">        &#39;long_position_limit&#39;: 270,</span>
<span class="linenos">36</span><span class="go">        &#39;short_position_limit&#39;: 180</span>
<span class="linenos">37</span><span class="go">    }</span>
<span class="linenos">38</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_assets">
<span class="sig-name descname"><span class="pre">get_assets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_assets" title="Link to this definition"></a></dt>
<dd><p>Get information about one or more assets. If <code class="docutils literal notranslate"><span class="pre">assets</span></code> is not
specified, all assets will be returned.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getAssetInfo">https://docs.kraken.com/rest/#operation/getAssetInfo</a></p></li>
</ul>
<p>This function uses caching. Run <code class="docutils literal notranslate"><span class="pre">get_assets.cache_clear()</span></code> to clear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>assets</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Filter by asset(s)</p></li>
<li><p><strong>aclass</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by asset class</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about the requested assets</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get information about the available assets</span><a class="headerlink" href="#id25" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">market</span> <span class="o">=</span> <span class="n">Market</span><span class="p">()</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">market</span><span class="o">.</span><span class="n">get_assets</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">{</span>
<span class="linenos"> 5</span><span class="go">    &#39;DOT&#39;: {</span>
<span class="linenos"> 6</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;altname&#39;: &#39;DOT&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;decimals&#39;: 10,</span>
<span class="linenos"> 9</span><span class="go">        &#39;display_decimals&#39;: 8,</span>
<span class="linenos">10</span><span class="go">        &#39;collateral_value&#39;: 0.9,</span>
<span class="linenos">11</span><span class="go">        &#39;status&#39;: &#39;enabled&#39;</span>
<span class="linenos">12</span><span class="go">    }</span>
<span class="linenos">13</span><span class="go">}</span>
<span class="linenos">14</span><span class="gp">&gt;&gt;&gt; </span><span class="n">market</span><span class="o">.</span><span class="n">get_assets</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;MATIC&quot;</span><span class="p">,</span> <span class="s2">&quot;XBT&quot;</span><span class="p">])</span> <span class="c1"># same as market.get_assets(assets=&quot;MATIC,XBT&quot;])</span>
<span class="linenos">15</span><span class="go">    &#39;MATIC&#39;: {</span>
<span class="linenos">16</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos">17</span><span class="go">        &#39;altname&#39;: &#39;MATIC&#39;,</span>
<span class="linenos">18</span><span class="go">        &#39;decimals&#39;: 10,</span>
<span class="linenos">19</span><span class="go">        &#39;display_decimals&#39;: 5,</span>
<span class="linenos">20</span><span class="go">        &#39;collateral_value&#39;: 0.7,</span>
<span class="linenos">21</span><span class="go">        &#39;status&#39;: &#39;enabled&#39;</span>
<span class="linenos">22</span><span class="go">    },</span>
<span class="linenos">23</span><span class="go">    &#39;XXBT&#39;: {</span>
<span class="linenos">24</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos">25</span><span class="go">        &#39;altname&#39;: &#39;XBT&#39;,</span>
<span class="linenos">26</span><span class="go">        &#39;decimals&#39;: 10,</span>
<span class="linenos">27</span><span class="go">        &#39;display_decimals&#39;: 5,</span>
<span class="linenos">28</span><span class="go">        &#39;collateral_value&#39;: 1.0,</span>
<span class="linenos">29</span><span class="go">        &#39;status&#39;: &#39;enabled&#39;</span>
<span class="linenos">30</span><span class="go">    }</span>
<span class="linenos">31</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_ohlc">
<span class="sig-name descname"><span class="pre">get_ohlc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">since</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_ohlc" title="Link to this definition"></a></dt>
<dd><p>Get the open, high, low, and close data for a specific trading pair.
Returns at max 720 time steps per request.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getOHLCData">https://docs.kraken.com/rest/#operation/getOHLCData</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em>) – The pair to get the ohlc from</p></li>
<li><p><strong>interval</strong> (<em>str</em><em> | </em><em>int</em><em>, </em><em>optional</em>) – the Interval in minutes (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></li>
<li><p><strong>since</strong> (<em>int</em><em> | </em><em>str</em><em>, </em><em>optional</em>) – Timestamp to start from (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The OHLC data of a given asset pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the OHLC data</span><a class="headerlink" href="#id26" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_ohlc</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &quot;XXBTZUSD&quot;: [</span>
<span class="linenos"> 5</span><span class="go">        [</span>
<span class="linenos"> 6</span><span class="go">            1680671100,</span>
<span class="linenos"> 7</span><span class="go">            &quot;28488.9&quot;,</span>
<span class="linenos"> 8</span><span class="go">            &quot;28489.0&quot;,</span>
<span class="linenos"> 9</span><span class="go">            &quot;28488.8&quot;,</span>
<span class="linenos">10</span><span class="go">            &quot;28489.0&quot;,</span>
<span class="linenos">11</span><span class="go">            &quot;28488.9&quot;,</span>
<span class="linenos">12</span><span class="go">            &quot;1.03390376&quot;,</span>
<span class="linenos">13</span><span class="go">            8</span>
<span class="linenos">14</span><span class="go">        ], ...</span>
<span class="linenos">15</span><span class="go">    ]</span>
<span class="linenos">16</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_order_book">
<span class="sig-name descname"><span class="pre">get_order_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_order_book" title="Link to this definition"></a></dt>
<dd><p>Get the current orderbook of a specified trading pair.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getOrderBook">https://docs.kraken.com/rest/#operation/getOrderBook</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em>) – The pair to get the orderbook from</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of asks and bids, must be one of {1..500} (default:
<code class="docutils literal notranslate"><span class="pre">100</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the orderbook</span><a class="headerlink" href="#id27" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_order_book</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &#39;XXBTZUSD&#39;: {</span>
<span class="linenos"> 5</span><span class="go">        &#39;asks&#39;: [</span>
<span class="linenos"> 6</span><span class="go">            [&#39;28000.00000&#39;, &#39;1.091&#39;, 1680714417],</span>
<span class="linenos"> 7</span><span class="go">            [&#39;28001.00000&#39;, &#39;0.001&#39;, 1680714413]</span>
<span class="linenos"> 8</span><span class="go">        ],</span>
<span class="linenos"> 9</span><span class="go">        &#39;bids&#39;: [</span>
<span class="linenos">10</span><span class="go">            [&#39;27999.90000&#39;, &#39;2.240&#39;, 1680714419],</span>
<span class="linenos">11</span><span class="go">            [&#39;27999.50000&#39;, &#39;0.090&#39;, 1680714418]</span>
<span class="linenos">12</span><span class="go">        ]</span>
<span class="linenos">13</span><span class="go">    }</span>
<span class="linenos">14</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_recent_spreads">
<span class="sig-name descname"><span class="pre">get_recent_spreads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">since</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_recent_spreads" title="Link to this definition"></a></dt>
<dd><p>Get the latest spreads for a specific trading pair.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getRecentSpreads">https://docs.kraken.com/rest/#operation/getRecentSpreads</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em>) – Pair to get the recent spreads</p></li>
<li><p><strong>since</strong> (<em>str</em><em> | </em><em>int</em><em>, </em><em>optional</em>) – Filter trades since given timestamp (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The last <em>n</em> spreads of the asset pair</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the recent spreads</span><a class="headerlink" href="#id28" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_recent_spreads</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &quot;XXBTZUSD&quot;: [</span>
<span class="linenos"> 5</span><span class="go">        [1680714601, &quot;28015.00000&quot;, &quot;28019.40000&quot;],</span>
<span class="linenos"> 6</span><span class="go">        [1680714601, &quot;28015.00000&quot;, &quot;28017.00000&quot;],</span>
<span class="linenos"> 7</span><span class="go">        [1680714601, &quot;28015.00000&quot;, &quot;28016.90000&quot;],</span>
<span class="linenos"> 8</span><span class="go">        ...</span>
<span class="linenos"> 9</span><span class="go">    ]</span>
<span class="linenos">10</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_recent_trades">
<span class="sig-name descname"><span class="pre">get_recent_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">since</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_recent_trades" title="Link to this definition"></a></dt>
<dd><p>Get the latest trades for a specific trading pair (up to 1000).</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getRecentTrades">https://docs.kraken.com/rest/#operation/getRecentTrades</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pair</strong> (<em>str</em>) – Pair to get the recent trades</p></li>
<li><p><strong>since</strong> (<em>str</em><em> | </em><em>int</em><em>, </em><em>optional</em>) – Filter trades since given timestamp (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – The max number of results</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The last public trades (up to 1000 results)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the recent trades</span><a class="headerlink" href="#id29" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_recent_trades</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &quot;XXBTZUSD&quot;: [</span>
<span class="linenos"> 5</span><span class="go">        [&quot;27980.90000&quot;, &quot;0.00071054&quot;, 1680712703.2524643, &quot;b&quot;, &quot;l&quot;, &quot;&quot;, 57811127],</span>
<span class="linenos"> 6</span><span class="go">        [&quot;27981.00000&quot;, &quot;0.03180000&quot;, 1680712715.1806278, &quot;b&quot;, &quot;l&quot;, &quot;&quot;, 57811128],</span>
<span class="linenos"> 7</span><span class="go">        [&quot;27980.90000&quot;, &quot;0.00010000&quot;, 1680712715.469506, &quot;s&quot;, &quot;m&quot;, &quot;&quot;, 57811129],</span>
<span class="linenos"> 8</span><span class="go">        ...</span>
<span class="linenos"> 9</span><span class="go">    ]</span>
<span class="linenos">10</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_system_status">
<span class="sig-name descname"><span class="pre">get_system_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_system_status" title="Link to this definition"></a></dt>
<dd><p>Returns the system status of the Kraken Spot API.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#section/General-Usage/Requests-Responses-and-Errors">https://docs.kraken.com/rest/#section/General-Usage/Requests-Responses-and-Errors</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Success or failure</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the Kraken API system status</span><a class="headerlink" href="#id30" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_system_status</span><span class="p">()</span>
<span class="linenos">3</span><span class="go">{&#39;status&#39;: &#39;online&#39;, &#39;timestamp&#39;: &#39;2023-04-05T17:12:31Z&#39;}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Market.get_ticker">
<span class="sig-name descname"><span class="pre">get_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Market.get_ticker" title="Link to this definition"></a></dt>
<dd><p>Returns all tickers if pair is not specified - else just the ticker of
the <code class="docutils literal notranslate"><span class="pre">pair</span></code>. Multiple pairs can be specified.</p>
<p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getTickerInformation">https://docs.kraken.com/rest/#operation/getTickerInformation</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pair</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Filter by pair(s)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ticker(s) including ask, bid, close, volume, vwap, high,
low, todays open and more</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Spot Market: Get the ticker(s)</span><a class="headerlink" href="#id31" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Market</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">Market</span><span class="p">()</span><span class="o">.</span><span class="n">get_ticker</span><span class="p">(</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="go">{</span>
<span class="linenos"> 4</span><span class="go">    &#39;XXBTZUSD&#39;: {</span>
<span class="linenos"> 5</span><span class="go">        &#39;a&#39;: [&#39;27948.00000&#39;, &#39;3&#39;, &#39;3.000&#39;],      # ask</span>
<span class="linenos"> 6</span><span class="go">        &#39;b&#39;: [&#39;27947.90000&#39;, &#39;1&#39;, &#39;1.000&#39;],      # bid</span>
<span class="linenos"> 7</span><span class="go">        &#39;c&#39;: [&#39;27947.90000&#39;, &#39;0.00842808&#39;],      # last trade close, lot volume</span>
<span class="linenos"> 8</span><span class="go">        &#39;v&#39;: [&#39;3564.58017484&#39;, &#39;4138.93906134&#39;], # volume today and last 24h</span>
<span class="linenos"> 9</span><span class="go">        &#39;p&#39;: [&#39;28351.31431&#39;, &#39;28329.55480&#39;],     # vwap today and last 24h</span>
<span class="linenos">10</span><span class="go">        &#39;t&#39;: [33574, 43062],                     # number of trades today and last 24h</span>
<span class="linenos">11</span><span class="go">        &#39;l&#39;: [&#39;27813.10000&#39;, &#39;27813.10000&#39;],     # low today and last 24h</span>
<span class="linenos">12</span><span class="go">        &#39;h&#39;: [&#39;28792.30000&#39;, &#39;28792.30000&#39;],     # high today and last 24</span>
<span class="linenos">13</span><span class="go">        &#39;o&#39;: &#39;28173.00000&#39;                       # today&#39;s opening price</span>
<span class="linenos">14</span><span class="go">    }</span>
<span class="linenos">15</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kraken.spot.Market.return_unique_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_unique_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#kraken.spot.Market.return_unique_id" title="Link to this definition"></a></dt>
<dd><p>Returns a unique uuid string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uuid</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="kraken.spot.Trade">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kraken.spot.</span></span><span class="sig-name descname"><span class="pre">Trade</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kraken.spot.Trade" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../base_api/base_api.html#kraken.base_api.KrakenSpotBaseAPI" title="kraken.base_api.KrakenSpotBaseAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KrakenSpotBaseAPI</span></code></a></p>
<p>Class that implements the Kraken Trade Spot client</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API public key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>secret</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API secret key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>url</strong> (<em>str</em><em>, </em><em>optional</em>) – The URL to access the Kraken API (default: <a class="reference external" href="https://api.kraken.com">https://api.kraken.com</a>)</p></li>
<li><p><strong>sandbox</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use the sandbox (not supported for Spot trading so far, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create the trade client</span><a class="headerlink" href="#id32" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">()</span> <span class="c1"># unauthenticated</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth_trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="c1"># authenticated</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create the trade client as context manager</span><a class="headerlink" href="#id33" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">trade</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span><span class="o">...</span><span class="p">))</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.cancel_all_orders">
<span class="sig-name descname"><span class="pre">cancel_all_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.cancel_all_orders" title="Link to this definition"></a></dt>
<dd><p>Cancel all open orders.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Cancel/close</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/cancelAllOrders">https://docs.kraken.com/rest/#operation/cancelAllOrders</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Success or failure - Number of closed orders</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Cancel all open orders</span><a class="headerlink" href="#id34" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">cancel_all_orders</span><span class="p">()</span>
<span class="linenos">4</span><span class="go">{ &#39;count&#39;: 2 }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.cancel_all_orders_after_x">
<span class="sig-name descname"><span class="pre">cancel_all_orders_after_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.cancel_all_orders_after_x" title="Link to this definition"></a></dt>
<dd><p>Cancel all orders after a timeout. This can be used as Dead Man’s Switch.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">and</span> <span class="pre">modify</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/cancelAllOrdersAfter">https://docs.kraken.com/rest/#operation/cancelAllOrdersAfter</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Optional The timeout in seconds, deactivate by passing the default: <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Current time and trigger time</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Set the Death Man’s Switch</span><a class="headerlink" href="#id35" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">cancel_all_orders_after_x</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{</span>
<span class="linenos">5</span><span class="go">    &#39;currentTime&#39;: &#39;2023-04-06T06:51:56Z&#39;,</span>
<span class="linenos">6</span><span class="go">    &#39;triggerTime&#39;: &#39;2023-04-06T06:52:56Z&#39;</span>
<span class="linenos">7</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.cancel_order">
<span class="sig-name descname"><span class="pre">cancel_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.cancel_order" title="Link to this definition"></a></dt>
<dd><p>Cancel a specific order by <code class="docutils literal notranslate"><span class="pre">txid</span></code>. Instead of a transaction id
a user reference id can be passed.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Cancel/close</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/cancelOrder">https://docs.kraken.com/rest/#operation/cancelOrder</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txid</strong> (<em>str</em>) – Transaction id or comma delimited list of user reference ids to cancel.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure - Number of closed orders</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Cancel an order</span><a class="headerlink" href="#id36" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">cancel_order</span><span class="p">(</span><span class="n">txid</span><span class="o">=</span><span class="s2">&quot;OAUHYR-YCVK6-P22G6P&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{ &#39;count&#39;: 1 }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.cancel_order_batch">
<span class="sig-name descname"><span class="pre">cancel_order_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.cancel_order_batch" title="Link to this definition"></a></dt>
<dd><p>Cancel a a list of orders by <code class="docutils literal notranslate"><span class="pre">txid</span></code> or <code class="docutils literal notranslate"><span class="pre">userref</span></code></p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Cancel/close</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/cancelOrderBatch">https://docs.kraken.com/rest/#operation/cancelOrderBatch</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>orders</strong> (<em>list</em><em>[</em><em>str</em><em> | </em><em>int</em><em>]</em>) – List of orders to cancel</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure - Number of closed orders</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Cancel multiple orders</span><a class="headerlink" href="#id37" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">cancel_order_batch</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="n">orders</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;OG5IL4-6AR7I-ZAPZEZ&quot;</span><span class="p">,</span> <span class="s2">&quot;OAUHYR-YCVK6-P22G6P&quot;</span><span class="p">]</span>
<span class="linenos">5</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">6</span><span class="go">{ count&#39;: 2 }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.create_order">
<span class="sig-name descname"><span class="pre">create_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ordertype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leverage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stptype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cancel-newest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oflags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeinforce</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">displayvol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiretm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_ordertype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_price2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.create_order" title="Link to this definition"></a></dt>
<dd><p>Create a new order and place it on the market.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">and</span> <span class="pre">modify</span> <span class="pre">orders</span></code> permission in the API key
settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/addOrder">https://docs.kraken.com/rest/#operation/addOrder</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ordertype</strong> (<em>str</em>) – The kind of the order, one of: <code class="docutils literal notranslate"><span class="pre">market</span></code>, <code class="docutils literal notranslate"><span class="pre">limit</span></code>,
<code class="docutils literal notranslate"><span class="pre">take-profit</span></code>, <code class="docutils literal notranslate"><span class="pre">stop-loss-limit</span></code>, <code class="docutils literal notranslate"><span class="pre">take-profit-limit</span></code> and
<code class="docutils literal notranslate"><span class="pre">settle-position</span></code> (see:
<a class="reference external" href="https://support.kraken.com/hc/en-us/sections/200577136-Order-types">https://support.kraken.com/hc/en-us/sections/200577136-Order-types</a>)</p></li>
<li><p><strong>side</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">buy</span></code> or <code class="docutils literal notranslate"><span class="pre">sell</span></code></p></li>
<li><p><strong>pair</strong> (<em>str</em>) – The asset to trade</p></li>
<li><p><strong>volume</strong> (<em>str</em><em> | </em><em>float</em>) – The volume of the position to create</p></li>
<li><p><strong>price</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – The limit price for <code class="docutils literal notranslate"><span class="pre">limit</span></code> orders and the trigger price
for orders with <code class="docutils literal notranslate"><span class="pre">ordertype</span></code> one of <code class="docutils literal notranslate"><span class="pre">stop-loss</span></code>,
<code class="docutils literal notranslate"><span class="pre">stop-loss-limit</span></code>, <code class="docutils literal notranslate"><span class="pre">take-profit</span></code>, and <code class="docutils literal notranslate"><span class="pre">take-profit-limit</span></code></p></li>
<li><p><strong>price2</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – <p>The limit price for <code class="docutils literal notranslate"><span class="pre">stop-loss-limit</span></code> and
<code class="docutils literal notranslate"><span class="pre">take-profit-limit</span></code> orders The price2 can also be set to absolute
or relative changes.</p>
<blockquote>
<div><ul>
<li><p>Prefixed using <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> defines the change in the quote
asset</p></li>
<li><p>Prefixed by <code class="docutils literal notranslate"><span class="pre">#</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> but the sign
is set automatically</p></li>
<li><p>The percentage sign (<code class="docutils literal notranslate"><span class="pre">%</span></code>) can be used to define relative
changes.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>trigger</strong> (<em>str</em><em>, </em><em>optional</em>) – What triggers the position of <code class="docutils literal notranslate"><span class="pre">stop-loss</span></code>,
<code class="docutils literal notranslate"><span class="pre">stop-loss-limit</span></code>, <code class="docutils literal notranslate"><span class="pre">take-profit</span></code>, and <code class="docutils literal notranslate"><span class="pre">take-profit-limit</span></code>
orders. Will also be used for associated conditional close orders.
Kraken will use <code class="docutils literal notranslate"><span class="pre">last</span></code> if nothing is specified.</p></li>
<li><p><strong>leverage</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – The leverage</p></li>
<li><p><strong>stptype</strong> (<em>str</em><em>, </em><em>optional</em>) – Define what cancels the order, one of <code class="docutils literal notranslate"><span class="pre">cancel-newest</span></code>,
<code class="docutils literal notranslate"><span class="pre">cancel-oldest</span></code>, <code class="docutils literal notranslate"><span class="pre">cancel-both</span></code> (default: <code class="docutils literal notranslate"><span class="pre">cancel-newest</span></code>)</p></li>
<li><p><strong>oflags</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Order flags like <code class="docutils literal notranslate"><span class="pre">post</span></code>, <code class="docutils literal notranslate"><span class="pre">fcib</span></code>, <code class="docutils literal notranslate"><span class="pre">fciq</span></code>, <code class="docutils literal notranslate"><span class="pre">nomp</span></code>,
<code class="docutils literal notranslate"><span class="pre">viqc</span></code> (see the referenced Kraken documentation for more
information)</p></li>
<li><p><strong>timeinforce</strong> (<em>str</em><em>, </em><em>optional</em>) – how long the order remains in the orderbook, one of:
<code class="docutils literal notranslate"><span class="pre">GTC</span></code>, <code class="docutils literal notranslate"><span class="pre">IOC</span></code>, <code class="docutils literal notranslate"><span class="pre">GTD</span></code> (see the referenced Kraken documentation
for more information)</p></li>
<li><p><strong>displayvol</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Define how much of the volume is visible in the
orderbook (iceberg)</p></li>
<li><p><strong>starttim</strong> (<em>str</em><em>, </em><em>optional</em>) – Unix timestamp or seconds defining the start time
(default: <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code>)</p></li>
<li><p><strong>expiretm</strong> (<em>str</em><em>, </em><em>optional</em>) – Unix timestamp or time in seconds defining the
expiration of the order, (default: <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> - i.e., no expiration)</p></li>
<li><p><strong>close_ordertype</strong> (<em>str</em><em>, </em><em>optional</em>) – Conditional close order type, one of: <code class="docutils literal notranslate"><span class="pre">limit</span></code>,
<code class="docutils literal notranslate"><span class="pre">stop-loss</span></code>, <code class="docutils literal notranslate"><span class="pre">take-profit</span></code>, <code class="docutils literal notranslate"><span class="pre">stop-loss-limit</span></code>,
<code class="docutils literal notranslate"><span class="pre">take-profit-limit</span></code> (see the referenced Kraken documentation for
more information)</p></li>
<li><p><strong>close_price</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Conditional close price</p></li>
<li><p><strong>close_price2</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – The price2 for the conditional order - see the
price2 parameter description</p></li>
<li><p><strong>deadline</strong> (<em>str</em><em>, </em><em>optional</em>) – RFC3339 timestamp + {0..60} seconds that defines when
the matching engine should reject the order.</p></li>
<li><p><strong>truncate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If enabled: round the <code class="docutils literal notranslate"><span class="pre">price</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span></code> to
Kraken’s maximum allowed decimal places. See
<a class="reference external" href="https://support.kraken.com/hc/en-us/articles/4521313131540">https://support.kraken.com/hc/en-us/articles/4521313131540</a> fore more
information about decimals.</p></li>
<li><p><strong>reduce_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – Reduce existing orders (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>validate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Validate the order without placing on the market
(default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>userref</strong> (<em>int</em><em>, </em><em>optional</em>) – User reference id for example to group orders</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If input is not correct</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The transaction id</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create a market order</span><a class="headerlink" href="#id38" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">ordertype</span><span class="o">=</span><span class="s2">&quot;market&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="n">side</span><span class="o">=</span><span class="s2">&quot;buy&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="n">volume</span><span class="o">=</span><span class="s2">&quot;0.0001&quot;</span>
<span class="linenos"> 8</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 9</span><span class="go">{</span>
<span class="linenos">10</span><span class="go">    &#39;txid&#39;: [&#39;TNGMNU-XQSRA-LKCWOK&#39;],</span>
<span class="linenos">11</span><span class="go">    &#39;descr&#39;: {</span>
<span class="linenos">12</span><span class="go">        &#39;order&#39;: &#39;buy 4.00000000 XBTUSD @ limit 23000.0&#39;</span>
<span class="linenos">13</span><span class="go">    }</span>
<span class="linenos">14</span><span class="go">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create limit order</span><a class="headerlink" href="#id39" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">ordertype</span><span class="o">=</span><span class="s2">&quot;limit&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="n">side</span><span class="o">=</span><span class="s2">&quot;buy&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="n">volume</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="gp">... </span>    <span class="n">price</span><span class="o">=</span><span class="mi">23000</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span>    <span class="n">expiretm</span><span class="o">=</span><span class="mi">121</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>    <span class="n">displayvol</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">11</span><span class="gp">... </span>    <span class="n">oflags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;post&quot;</span><span class="p">,</span> <span class="s2">&quot;fcib&quot;</span><span class="p">]</span>
<span class="linenos">12</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">13</span><span class="go">{</span>
<span class="linenos">14</span><span class="go">    &#39;txid&#39;: [&#39;TPPI2H-CUZZ2-EQR2IE&#39;],</span>
<span class="linenos">15</span><span class="go">    &#39;descr&#39;: {</span>
<span class="linenos">16</span><span class="go">        &#39;order&#39;: &#39;buy 4.0000 XBTUSD @ limit 23000.0&#39;</span>
<span class="linenos">17</span><span class="go">    }</span>
<span class="linenos">18</span><span class="go">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create a stop loss order</span><a class="headerlink" href="#id40" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">ordertype</span><span class="o">=</span><span class="s2">&quot;stop-loss&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">volume</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>    <span class="n">price</span><span class="o">=</span><span class="mi">22000</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="gp">... </span>    <span class="n">side</span><span class="o">=</span><span class="s2">&quot;buy&quot;</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">10</span><span class="go">{</span>
<span class="linenos">11</span><span class="go">    &#39;txid&#39;: [&#39;THNUL1-8ZAS5-EEF3A8&#39;],</span>
<span class="linenos">12</span><span class="go">    &#39;descr&#39;: {</span>
<span class="linenos">13</span><span class="go">        &#39;order&#39;: &#39;buy 20.00000000 XBTUSD @ stop loss 22000.0&#39;</span>
<span class="linenos">14</span><span class="go">    }</span>
<span class="linenos">15</span><span class="go">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id41">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create stop-loss-limit and take-profit-limit orders</span><a class="headerlink" href="#id41" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="sd">&#39;&#39;&#39; When the price hits $25000:</span>
<span class="linenos"> 2</span><span class="sd">   1. A limit buy order will be placed at $24000 with 2x leverage.</span>
<span class="linenos"> 3</span><span class="sd">   2. When the limit order gets closed/filled at $24000 The</span>
<span class="linenos"> 4</span><span class="sd">      stop-loss-limit part is done and the tale-profit-limit part</span>
<span class="linenos"> 5</span><span class="sd">      begins.</span>
<span class="linenos"> 6</span><span class="sd">   3. When the price hits $27000 a limit order will be placed at</span>
<span class="linenos"> 7</span><span class="sd">      $26800 to sell 1.2 BTC. This ensures that the asset will be</span>
<span class="linenos"> 8</span><span class="sd">      sold for $26800 or better.</span>
<span class="linenos"> 9</span><span class="sd">&#39;&#39;&#39;</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">trade</span> <span class="o">=</span>
<span class="linenos">10</span><span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span>
<span class="linenos">11</span><span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">timezone</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">deadline</span> <span class="o">=</span> <span class="p">(</span> <span class="o">...</span>
<span class="linenos">12</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="linenos">13</span><span class="o">&gt;&gt;&gt;</span> <span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span> <span class="o">...</span>     <span class="n">ordertype</span><span class="o">=</span><span class="s2">&quot;stop-loss-limit&quot;</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">14</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">side</span><span class="o">=</span><span class="s2">&quot;buy&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">volume</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">15</span><span class="n">price</span><span class="o">=</span><span class="mi">24000</span><span class="p">,</span> <span class="o">...</span>     <span class="n">price2</span><span class="o">=</span><span class="mi">25000</span><span class="p">,</span> <span class="o">...</span>     <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1"># just</span>
<span class="linenos">16</span><span class="n">validate</span> <span class="n">the</span> <span class="nb">input</span><span class="p">,</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">place</span> <span class="n">on</span> <span class="n">the</span> <span class="n">market</span> <span class="o">...</span>
<span class="linenos">17</span><span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">timeinforce</span><span class="o">=</span><span class="s2">&quot;GTC&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">leverage</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">18</span><span class="n">deadline</span><span class="o">=</span><span class="n">deadline</span><span class="p">,</span> <span class="o">...</span>     <span class="n">close_ordertype</span><span class="o">=</span><span class="s2">&quot;take-profit-limit&quot;</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">19</span><span class="n">close_price</span><span class="o">=</span><span class="mi">27000</span><span class="p">,</span> <span class="o">...</span>     <span class="n">close_price2</span><span class="o">=</span><span class="mi">26800</span><span class="p">,</span> <span class="o">...</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos">20</span>    <span class="s1">&#39;descr&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">21</span>        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="s1">&#39;buy 0.00100000 XBTUSD @ stop loss 24000.0 -&gt; limit</span>
<span class="linenos">22</span>        <span class="mf">25000.0</span> <span class="k">with</span> <span class="mi">2</span><span class="p">:</span><span class="mi">1</span> <span class="n">leverage</span><span class="s1">&#39;, &#39;</span><span class="n">close</span><span class="s1">&#39;: &#39;</span><span class="n">close</span> <span class="n">position</span> <span class="o">@</span> <span class="n">take</span>
<span class="linenos">23</span>        <span class="n">profit</span> <span class="mf">27000.0</span> <span class="o">-&gt;</span> <span class="n">limit</span> <span class="mf">26800.0</span><span class="s1">&#39;</span>
<span class="linenos">24</span>    <span class="p">}</span>
<span class="linenos">25</span><span class="p">}</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="sd">&#39;&#39;&#39; The price2 and close_price2 can also be set to absolute or</span>
<span class="linenos">28</span><span class="sd">relative changes.</span>
<span class="linenos">29</span><span class="sd">    * Prefixed using &quot;+&quot; or &quot;-&quot; defines the change in the quote</span>
<span class="linenos">30</span><span class="sd">      asset</span>
<span class="linenos">31</span><span class="sd">    * Prefixed by # is the same as &quot;+&quot; and &quot;-&quot; but the sign is set</span>
<span class="linenos">32</span><span class="sd">      automatically</span>
<span class="linenos">33</span><span class="sd">    * The the percentage sign &quot;%&quot; can be used to define relative</span>
<span class="linenos">34</span><span class="sd">      changes.</span>
<span class="linenos">35</span><span class="sd">&#39;&#39;&#39;</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">trade</span><span class="o">.</span><span class="n">create_order</span><span class="p">(</span> <span class="o">...</span>     <span class="n">ordertype</span><span class="o">=</span><span class="s2">&quot;stop-loss-limit&quot;</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">36</span><span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">side</span><span class="o">=</span><span class="s2">&quot;buy&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">volume</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">37</span><span class="n">price</span><span class="o">=</span><span class="mi">24000</span><span class="p">,</span> <span class="o">...</span>     <span class="n">price2</span><span class="o">=</span><span class="s2">&quot;+1000&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">38</span><span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">timeinforce</span><span class="o">=</span><span class="s2">&quot;GTC&quot;</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">39</span><span class="n">close_ordertype</span><span class="o">=</span><span class="s2">&quot;take-profit-limit&quot;</span><span class="p">,</span> <span class="o">...</span>     <span class="n">close_price</span><span class="o">=</span><span class="mi">27000</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">40</span><span class="n">close_price2</span><span class="o">=</span><span class="s2">&quot;#2%&quot;</span><span class="p">,</span> <span class="o">...</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos">41</span>    <span class="s1">&#39;descr&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">42</span>        <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="s1">&#39;buy 0.00100000 XBTUSD @ stop loss 24000.0 -&gt; limit</span>
<span class="linenos">43</span>        <span class="o">+</span><span class="mf">1000.0</span><span class="s1">&#39;, &#39;</span><span class="n">close</span><span class="s1">&#39;: &#39;</span><span class="n">close</span> <span class="n">position</span> <span class="o">@</span> <span class="n">take</span> <span class="n">profit</span> <span class="mf">27000.0</span> <span class="o">-&gt;</span>
<span class="linenos">44</span>        <span class="n">limit</span> <span class="o">-</span><span class="mf">2.0000</span><span class="o">%</span><span class="s1">&#39;</span>
<span class="linenos">45</span>    <span class="p">}</span>
<span class="linenos">46</span><span class="p">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.create_order_batch">
<span class="sig-name descname"><span class="pre">create_order_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.create_order_batch" title="Link to this definition"></a></dt>
<dd><p>Create a batch of max 15 orders for a specific asset pair.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">and</span> <span class="pre">modify</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/addOrderBatch">https://docs.kraken.com/rest/#operation/addOrderBatch</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orders</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – Dictionary of order objects (see the referenced Kraken documentation for more information)</p></li>
<li><p><strong>pair</strong> (<em>str</em>) – Asset pair to place the orders for</p></li>
<li><p><strong>deadline</strong> (<em>str</em><em>, </em><em>optional</em>) – RFC3339 timestamp + {0..60} seconds that defines when the matching engine should reject the order.</p></li>
<li><p><strong>validate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Validate the orders without placing them. (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about the placed orders</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id42">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Create a batch order</span><a class="headerlink" href="#id42" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">create_order_batch</span><span class="p">(</span><span class="n">orders</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 4</span><span class="gp">... </span>        <span class="p">{</span>
<span class="linenos"> 5</span><span class="gp">... </span>            <span class="s2">&quot;close&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 6</span><span class="gp">... </span>                <span class="s2">&quot;ordertype&quot;</span><span class="p">:</span> <span class="s2">&quot;stop-loss-limit&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span><span class="gp">... </span>                <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">21000</span><span class="p">,</span>
<span class="linenos"> 8</span><span class="gp">... </span>                <span class="s2">&quot;price2&quot;</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
<span class="linenos"> 9</span><span class="gp">... </span>            <span class="p">},</span>
<span class="linenos">10</span><span class="gp">... </span>            <span class="s2">&quot;ordertype&quot;</span><span class="p">:</span> <span class="s2">&quot;limit&quot;</span><span class="p">,</span>
<span class="linenos">11</span><span class="gp">... </span>            <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>
<span class="linenos">12</span><span class="gp">... </span>            <span class="s2">&quot;timeinforce&quot;</span><span class="p">:</span> <span class="s2">&quot;GTC&quot;</span><span class="p">,</span>
<span class="linenos">13</span><span class="gp">... </span>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;buy&quot;</span><span class="p">,</span>
<span class="linenos">14</span><span class="gp">... </span>            <span class="s2">&quot;userref&quot;</span><span class="p">:</span> <span class="mi">16861348843</span><span class="p">,</span>
<span class="linenos">15</span><span class="gp">... </span>            <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">16</span><span class="gp">... </span>        <span class="p">},</span>
<span class="linenos">17</span><span class="gp">... </span>        <span class="p">{</span>
<span class="linenos">18</span><span class="gp">... </span>            <span class="s2">&quot;ordertype&quot;</span><span class="p">:</span> <span class="s2">&quot;limit&quot;</span><span class="p">,</span>
<span class="linenos">19</span><span class="gp">... </span>            <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
<span class="linenos">20</span><span class="gp">... </span>            <span class="s2">&quot;timeinforce&quot;</span><span class="p">:</span> <span class="s2">&quot;GTC&quot;</span><span class="p">,</span>
<span class="linenos">21</span><span class="gp">... </span>            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sell&quot;</span><span class="p">,</span>
<span class="linenos">22</span><span class="gp">... </span>            <span class="s2">&quot;userref&quot;</span><span class="p">:</span> <span class="mi">16861348843</span><span class="p">,</span>
<span class="linenos">23</span><span class="gp">... </span>            <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">24</span><span class="gp">... </span>        <span class="p">},</span>
<span class="linenos">25</span><span class="gp">... </span>    <span class="p">],</span>
<span class="linenos">26</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;BTC/USD&quot;</span>
<span class="linenos">27</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">28</span><span class="go">{</span>
<span class="linenos">29</span><span class="go">    &#39;orders&#39;: [{</span>
<span class="linenos">30</span><span class="go">        &#39;order&#39;: &#39;buy 1 BTCUSD @ limit 25000&#39;,</span>
<span class="linenos">31</span><span class="go">        &#39;txid&#39;: &#39;O5TLGX-DKKTU-WKRAZ5&#39;,</span>
<span class="linenos">32</span><span class="go">        &#39;close&#39;: &#39;close position @ stop loss 21000.0 -&gt; limit 20000.0&#39;</span>
<span class="linenos">33</span><span class="go">    }, {</span>
<span class="linenos">34</span><span class="go">        &#39;order&#39;: &quot;sell 2 BTCUSD @ limit 1000000&#39;,</span>
<span class="linenos">35</span><span class="go">        &#39;txid&#39;: &#39;OBGFYP-XVQNL-P4GMWF&#39;</span>
<span class="linenos">36</span><span class="go">    }]</span>
<span class="linenos">37</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.edit_order">
<span class="sig-name descname"><span class="pre">edit_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oflags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deadline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cancel_response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">userref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Trade.edit_order" title="Link to this definition"></a></dt>
<dd><p>Edit an open order.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">and</span> <span class="pre">modify</span> <span class="pre">orders</span></code> permission in
the API key settings.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/editOrder">https://docs.kraken.com/rest/#operation/editOrder</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txid</strong> (<em>str</em>) – The txid of the order to edit</p></li>
<li><p><strong>pair</strong> (<em>str</em>) – The asset pair of the order</p></li>
<li><p><strong>volume</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Set a new volume</p></li>
<li><p><strong>price</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Set a new price</p></li>
<li><p><strong>price2</strong> (<em>str</em><em> | </em><em>float</em><em>, </em><em>optional</em>) – Set a new second price</p></li>
<li><p><strong>oflags</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Order flags like <code class="docutils literal notranslate"><span class="pre">post</span></code>, <code class="docutils literal notranslate"><span class="pre">fcib</span></code>, <code class="docutils literal notranslate"><span class="pre">fciq</span></code>, <code class="docutils literal notranslate"><span class="pre">nomp</span></code>,
<code class="docutils literal notranslate"><span class="pre">viqc</span></code> (see the referenced Kraken documentation for more information)</p></li>
<li><p><strong>deadline</strong> (<em>string</em>) – (see the referenced Kraken documentation for more information)</p></li>
<li><p><strong>cancel_response</strong> (<em>bool</em><em>, </em><em>optional</em>) – See the referenced Kraken documentation for more information</p></li>
<li><p><strong>truncate</strong> (<em>bool</em><em>, </em><em>optional</em>) – If enabled: round the <code class="docutils literal notranslate"><span class="pre">price</span></code> and <code class="docutils literal notranslate"><span class="pre">volume</span></code> to Kraken’s
maximum allowed decimal places. See <a class="reference external" href="https://support.kraken.com/hc/en-us/articles/4521313131540">https://support.kraken.com/hc/en-us/articles/4521313131540</a>
fore more information about decimals.</p></li>
<li><p><strong>validate</strong> (<em>bool</em><em>, </em><em>optional</em>) – Validate the order without placing on the market (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>userref</strong> (<em>int</em>) – User reference id for example to group orders</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id43">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Modify an order</span><a class="headerlink" href="#id43" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Trade</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span> <span class="o">=</span> <span class="n">Trade</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">trade</span><span class="o">.</span><span class="n">edit_order</span><span class="p">(</span><span class="n">txid</span><span class="o">=</span><span class="s2">&quot;OBGFYP-XVQNL-P4GMWF&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">volume</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">price</span><span class="o">=</span><span class="mi">1250000</span>
<span class="linenos"> 7</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go">{</span>
<span class="linenos"> 9</span><span class="go">    &#39;status&#39;: &#39;ok&#39;,</span>
<span class="linenos">10</span><span class="go">    &#39;txid&#39;: &#39;OFVXHJ-KPQ3B-VS7ELA&#39;,</span>
<span class="linenos">11</span><span class="go">    &#39;originaltxid&#39;: &#39;OBGFYP-XVQNL-P4GMWF&#39;,</span>
<span class="linenos">12</span><span class="go">    &#39;volume&#39;: &#39;0.75&#39;,</span>
<span class="linenos">13</span><span class="go">    &#39;price&#39;: &#39;1250000&#39;,</span>
<span class="linenos">14</span><span class="go">    &#39;orders_cancelled&#39;: 1,</span>
<span class="linenos">15</span><span class="go">    &#39;descr&#39;: {</span>
<span class="linenos">16</span><span class="go">        &#39;order&#39;: &#39;sell 0.75 XXBTZUSD @ limit 1250000&#39;</span>
<span class="linenos">17</span><span class="go">    }</span>
<span class="linenos">18</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kraken.spot.Trade.return_unique_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_unique_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#kraken.spot.Trade.return_unique_id" title="Link to this definition"></a></dt>
<dd><p>Returns a unique uuid string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uuid</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Trade.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Decimal</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#kraken.spot.Trade.truncate" title="Link to this definition"></a></dt>
<dd><p>Kraken only allows volume and price amounts to be specified with a specific number of
decimal places, and these vary depending on the currency pair used.</p>
<p>This function converts an amount of a specific type and pair to a string that uses
the correct number of decimal places.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://support.kraken.com/hc/en-us/articles/4521313131540">https://support.kraken.com/hc/en-us/articles/4521313131540</a></p></li>
</ul>
<p>This function uses caching. Run <code class="docutils literal notranslate"><span class="pre">truncate.clear_cache()</span></code> to clear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>Decimal</em><em> | </em><em>float</em><em> | </em><em>str</em>) – The floating point number to represent</p></li>
<li><p><strong>amount_type</strong> (<em>str</em>) – What the amount represents. Either <code class="docutils literal notranslate"><span class="pre">&quot;price&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;volume&quot;</span></code></p></li>
<li><p><strong>pair</strong> (<em>str</em>) – The currency pair the amount is in reference to.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">amount_type</span></code> is <code class="docutils literal notranslate"><span class="pre">price</span></code> and the price is less
than the costmin.</p></li>
<li><p><strong>ValueError</strong> – If the <code class="docutils literal notranslate"><span class="pre">amount_type</span></code> is <code class="docutils literal notranslate"><span class="pre">volume</span></code> and the volume is
less than the ordermin.</p></li>
<li><p><strong>ValueError</strong> – If no valid <code class="docutils literal notranslate"><span class="pre">amount_type</span></code> was passed.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string representation of the amount.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id44">
<div class="code-block-caption"><span class="caption-text">Spot Trade: Truncate</span><a class="headerlink" href="#id44" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">trade</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span>
<span class="linenos"> 2</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mf">0.123456789</span><span class="p">,</span>
<span class="linenos"> 3</span><span class="gp">... </span>    <span class="n">amount_type</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span>
<span class="linenos"> 5</span><span class="gp">... </span><span class="p">))</span>
<span class="linenos"> 6</span><span class="go">0.12345678</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">trade</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span>
<span class="linenos"> 9</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mf">21123.12849829993</span><span class="p">,</span>
<span class="linenos">10</span><span class="gp">... </span>    <span class="n">amount_type</span><span class="o">=</span><span class="s2">&quot;price&quot;</span><span class="p">,</span>
<span class="linenos">11</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span><span class="p">)</span>
<span class="linenos">12</span><span class="gp">... </span><span class="p">))</span>
<span class="linenos">13</span><span class="go">21123.1</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">trade</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span>
<span class="linenos">16</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="linenos">17</span><span class="gp">... </span>    <span class="n">amount_type</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
<span class="linenos">18</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span>
<span class="linenos">19</span><span class="gp">... </span><span class="p">))</span>
<span class="linenos">20</span><span class="go">0.10000000</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">trade</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span>
<span class="linenos">23</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mi">21123</span><span class="p">,</span>
<span class="linenos">24</span><span class="gp">... </span>    <span class="n">amount_type</span><span class="o">=</span><span class="s2">&quot;price&quot;</span><span class="p">,</span>
<span class="linenos">25</span><span class="gp">... </span>    <span class="n">pair</span><span class="o">=</span><span class="s2">&quot;XBTUSD&quot;</span>
<span class="linenos">26</span><span class="gp">... </span><span class="p">))</span>
<span class="linenos">27</span><span class="go">21123.0</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="kraken.spot.Funding">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kraken.spot.</span></span><span class="sig-name descname"><span class="pre">Funding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kraken.spot.Funding" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../base_api/base_api.html#kraken.base_api.KrakenSpotBaseAPI" title="kraken.base_api.KrakenSpotBaseAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KrakenSpotBaseAPI</span></code></a></p>
<p>Class that implements the Spot Funding client. Currently there are no
funding endpoints that could be accesses without authentication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API public key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>secret</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API secret key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>url</strong> (<em>str</em><em>, </em><em>optional</em>) – Alternative URL to access the Kraken API (default:
<a class="reference external" href="https://api.kraken.com">https://api.kraken.com</a>)</p></li>
<li><p><strong>sandbox</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use the sandbox (not supported for Spot trading so far,
default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id45">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Create the funding client</span><a class="headerlink" href="#id45" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">()</span> <span class="c1"># unauthenticated</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth_funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="c1"># authenticated</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id46">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Create the funding client as context manager</span><a class="headerlink" href="#id46" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">funding</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">funding</span><span class="o">.</span><span class="n">get_deposit_methods</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="s2">&quot;XLM&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.cancel_withdraw">
<span class="sig-name descname"><span class="pre">cancel_withdraw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.cancel_withdraw" title="Link to this definition"></a></dt>
<dd><p>Cancel a requested withdraw. This will only be successful if the
withdraw is not being processed so far.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/cancelWithdrawal">https://docs.kraken.com/rest/#operation/cancelWithdrawal</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – Asset of the pending withdraw</p></li>
<li><p><strong>refid</strong> (<em>str</em>) – The reference ID returned the withdraw was requested</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Success or failure</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id47">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Cancel Withdraw</span><a class="headerlink" href="#id47" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">cancel_withdraw</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">,</span> <span class="n">refid</span><span class="o">=</span><span class="s2">&quot;I7KGS6-UFMTTQ-AGBSO6T&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">{ &#39;result&#39;: True }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.get_deposit_address">
<span class="sig-name descname"><span class="pre">get_deposit_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Funding.get_deposit_address" title="Link to this definition"></a></dt>
<dd><p>Get the deposit addresses for a specific asset. New deposit addresses
can be generated.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Deposit</span> <span class="pre">funds</span></code> API key permission.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getDepositAddresses">https://docs.kraken.com/rest/#operation/getDepositAddresses</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – Asset being deposited</p></li>
<li><p><strong>method</strong> (<em>str</em>) – Deposit method name</p></li>
<li><p><strong>new</strong> (<em>bool</em><em>, </em><em>optional</em>) – Generate a new deposit address (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user and asset specific deposit addresses</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id48">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Get the available deposit addresses</span><a class="headerlink" href="#id48" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">get_deposit_address</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="s2">&quot;XLM&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;Stellar XLM&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;address&#39;: &#39;GA5XIGA5C7QTPTWXQHY6MCJRMTRZDOSHR6EFIBNDQTCQHG262N4GGKTM&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;expiretm&#39;: &#39;0&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;new&#39;: True,</span>
<span class="linenos"> 9</span><span class="go">        &#39;tag&#39;: &#39;1668814718654064928&#39;</span>
<span class="linenos">10</span><span class="go">    }, {</span>
<span class="linenos">11</span><span class="go">        &#39;address&#39;: &#39;GA5XIGA5C7QTPTWXQHY6MCJRMTRZDOSHR6EFIBNDQTCQHG262N4GGKTM&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;expiretm&#39;: &#39;0&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;new&#39;: True,</span>
<span class="linenos">14</span><span class="go">        &#39;tag&#39;: &#39;1668815609618044006&#39;</span>
<span class="linenos">15</span><span class="go">    },  ...</span>
<span class="linenos">16</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.get_deposit_methods">
<span class="sig-name descname"><span class="pre">get_deposit_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Funding.get_deposit_methods" title="Link to this definition"></a></dt>
<dd><p>Get the available deposit methods for a specific asset.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getDepositMethods">https://docs.kraken.com/rest/#operation/getDepositMethods</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>asset</strong> (<em>str</em>) – Asset being deposited</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of available deposit methods of the asset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id49">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Get the available deposit methods</span><a class="headerlink" href="#id49" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">get_deposit_methods</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="s2">&quot;XLM&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;method&#39;: &#39;Stellar XLM&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;limit&#39;: False,</span>
<span class="linenos"> 8</span><span class="go">        &#39;gen-address&#39;: True</span>
<span class="linenos"> 9</span><span class="go">    }, {</span>
<span class="linenos">10</span><span class="go">        &#39;method&#39;: &#39;Stellar XLM Multi&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;limit&#39;: False,</span>
<span class="linenos">12</span><span class="go">        &#39;gen-address&#39;: True</span>
<span class="linenos">13</span><span class="go">    }</span>
<span class="linenos">14</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.get_recent_deposits_status">
<span class="sig-name descname"><span class="pre">get_recent_deposits_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cursor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.get_recent_deposits_status" title="Link to this definition"></a></dt>
<dd><p>Get information about the recent deposit status. The look back period is
90 days and only the last 25 deposits will be returned.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Deposit</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getStatusRecentDeposits">https://docs.kraken.com/rest/#operation/getStatusRecentDeposits</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by asset</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by deposit method</p></li>
<li><p><strong>start</strong> (<em>str</em><em>, </em><em>optional</em>) – Start timestamp</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – End timestamp</p></li>
<li><p><strong>cursor</strong> (bool | str, default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) – If bool: dis-/enable paginated responses; if str: cursor
for next page</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user specific deposit history</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict] | dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id50">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Get the recent deposit status</span><a class="headerlink" href="#id50" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">get_recent_deposits_status</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;method&#39;: &#39;Bank Frick (SEPA)&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;asset&#39;: &#39;ZEUR&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;refid&#39;: &#39;QDFN2EK-XMFWQ4-GPB7SG&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;txid&#39;: &#39;7702226&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;info&#39;: &#39;NTSBDEB1XXX&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;amount&#39;: &#39;1000.0000&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;fee&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;time&#39;: 1680245166,</span>
<span class="linenos">15</span><span class="go">        &#39;status&#39;: &#39;Success&#39;</span>
<span class="linenos">16</span><span class="go">    }, {</span>
<span class="linenos">17</span><span class="go">        &#39;method&#39;: &#39;Bank Frick (SEPA)&#39;,</span>
<span class="linenos">18</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos">19</span><span class="go">        &#39;asset&#39;: &#39;ZEUR&#39;,</span>
<span class="linenos">20</span><span class="go">        &#39;refid&#39;: &#39;QDFO35O-O4IU7K-ZEP77Y&#39;,</span>
<span class="linenos">21</span><span class="go">        &#39;txid&#39;: &#39;7559797&#39;,</span>
<span class="linenos">22</span><span class="go">        &#39;info&#39;: &#39;NTSBDEB1XXX&#39;,</span>
<span class="linenos">23</span><span class="go">        &#39;amount&#39;: &#39;500.0000&#39;,</span>
<span class="linenos">24</span><span class="go">        &#39;fee&#39;: &#39;0.0000&#39;,</span>
<span class="linenos">25</span><span class="go">        &#39;time&#39;: 1677827980,</span>
<span class="linenos">26</span><span class="go">        &#39;status&#39;: &#39;Success&#39;</span>
<span class="linenos">27</span><span class="go">    }, {</span>
<span class="linenos">28</span><span class="go">        &#39;method&#39;: &#39;Ethereum (ERC20)&#39;,</span>
<span class="linenos">29</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos">30</span><span class="go">        &#39;asset&#39;: &#39;XETH&#39;,</span>
<span class="linenos">31</span><span class="go">        &#39;refid&#39;: &#39;Q5QTWMS-GXER37-ZI4IH6&#39;,</span>
<span class="linenos">32</span><span class="go">        &#39;txid&#39;: &#39;0x2abb04dafd3caed53d4f2912651391c53b912cc4bca1f8b30d09a5cebec5c2d6&#39;,</span>
<span class="linenos">33</span><span class="go">        &#39;info&#39;: &#39;0x35be16f2340c97c02c0cf4dcd9279f2eaa4a0980&#39;,</span>
<span class="linenos">34</span><span class="go">        &#39;amount&#39;: &#39;0.0119328120&#39;,</span>
<span class="linenos">35</span><span class="go">        &#39;fee&#39;: &#39;0.0000000000&#39;,</span>
<span class="linenos">36</span><span class="go">        &#39;time&#39;: 1672901534,</span>
<span class="linenos">37</span><span class="go">        &#39;status&#39;: &#39;Success&#39;</span>
<span class="linenos">38</span><span class="go">    }, ...</span>
<span class="linenos">39</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.get_recent_withdraw_status">
<span class="sig-name descname"><span class="pre">get_recent_withdraw_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cursor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Funding.get_recent_withdraw_status" title="Link to this definition"></a></dt>
<dd><p>Get information about the recent withdraw status, including withdraws of
the past 90 days but at max 500 results.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getStatusRecentWithdrawals">https://docs.kraken.com/rest/#operation/getStatusRecentWithdrawals</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter withdraws by asset (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by withdraw method (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>start</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by start timestamp</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by end timestamp</p></li>
<li><p><strong>cursor</strong> (<em>str</em><em> | </em><em>bool</em><em>, </em><em>optional</em>) – en-/disable paginated responses via <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">False</span></code> or
define the page as str.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Withdrawal information</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id51">
<div class="code-block-caption"><span class="caption-text">Get the recent withdraw status</span><a class="headerlink" href="#id51" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">get_recent_withdraw_status</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;method&#39;: &#39;Polkadot&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;asset&#39;: &#39;DOT&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;refid&#39;: &#39;XXXXXX-XXXXXX-HLDRM5&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;txid&#39;: &#39;0x51d9d13ade1c31a138dae81b845f091d1a6cf2e3c1c36d9cf4f7baf905c483e4&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;info&#39;: &#39;16LrqRXyhjBCSfA6kKrdqxPKrZoMEUtmoW4nkx5ZhA374Bp3&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;amount&#39;: &#39;94.39581164&#39;,</span>
<span class="linenos">13</span><span class="go">        &#39;fee&#39;: &#39;0.05000000&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;time&#39;: 1677816733,</span>
<span class="linenos">15</span><span class="go">        &#39;status&#39;: &#39;Success&#39;</span>
<span class="linenos">16</span><span class="go">    }, ...</span>
<span class="linenos">17</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.get_withdrawal_info">
<span class="sig-name descname"><span class="pre">get_withdrawal_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.get_withdrawal_info" title="Link to this definition"></a></dt>
<dd><p>Get information about a possible withdraw, including fee and limit
information. The <code class="docutils literal notranslate"><span class="pre">key</span></code> must be the name of the key defined in the
account. You can add a new key for any asset listed on Kraken here:
<a class="reference external" href="https://www.kraken.com/u/funding/withdraw">https://www.kraken.com/u/funding/withdraw</a>.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getWithdrawalInformation">https://docs.kraken.com/rest/#operation/getWithdrawalInformation</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – Asset to withdraw</p></li>
<li><p><strong>key</strong> (<em>str</em>) – Withdrawal key name as set up in the user account</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount to withdraw</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about a possible withdraw including the fee and
amount.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id52">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Get withdrawal information</span><a class="headerlink" href="#id52" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">get_withdrawal_info</span><span class="p">(</span>
<span class="linenos"> 4</span><span class="gp">... </span>    <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="gp">... </span>    <span class="n">key</span><span class="o">=</span><span class="s2">&quot;MyPolkadotWallet&quot;</span><span class="p">,</span>
<span class="linenos"> 6</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="s2">&quot;4&quot;</span>
<span class="linenos"> 7</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos"> 8</span><span class="go">{</span>
<span class="linenos"> 9</span><span class="go">    &#39;method&#39;: &#39;Polkadot&#39;,</span>
<span class="linenos">10</span><span class="go">    &#39;limit&#39;: &#39;4.49880000&#39;,</span>
<span class="linenos">11</span><span class="go">    &#39;amount&#39;: &#39;3.95000000&#39;,</span>
<span class="linenos">12</span><span class="go">    &#39;fee&#39;: &#39;0.05000000&#39;</span>
<span class="linenos">13</span><span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kraken.spot.Funding.return_unique_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_unique_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#kraken.spot.Funding.return_unique_id" title="Link to this definition"></a></dt>
<dd><p>Returns a unique uuid string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uuid</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.wallet_transfer">
<span class="sig-name descname"><span class="pre">wallet_transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.wallet_transfer" title="Link to this definition"></a></dt>
<dd><p>Transfer assets between the Spot and Futures wallet.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/walletTransfer">https://docs.kraken.com/rest/#operation/walletTransfer</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – Asset to transfer</p></li>
<li><p><strong>from</strong> (<em>str</em>) – The wallet to withdraw from</p></li>
<li><p><strong>to</strong> (<em>str</em>) – The wallet to deposit to</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount to transfer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reference id</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id53">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Wallet Transfer</span><a class="headerlink" href="#id53" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">wallet_transfer</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;XBT&quot;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>    <span class="n">from_</span><span class="o">=</span><span class="s2">&quot;Spot Wallet&quot;</span><span class="p">,</span>
<span class="linenos">6</span><span class="gp">... </span>    <span class="n">to_</span><span class="o">=</span><span class="s2">&quot;Futures Wallet&quot;</span><span class="p">,</span>
<span class="linenos">7</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mf">0.01</span>
<span class="linenos">8</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">9</span><span class="go">{ &#39;refid&#39;: &quot;ANS1EE5-SKACR4-PENGVP&quot; }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.withdraw_addresses">
<span class="sig-name descname"><span class="pre">withdraw_addresses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verified</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.withdraw_addresses" title="Link to this definition"></a></dt>
<dd><p>Returns the list of available withdrawal addresses for that user.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Funds</span> <span class="pre">permissions</span> <span class="pre">-</span> <span class="pre">Query</span></code> and <code class="docutils literal notranslate"><span class="pre">Funds</span> <span class="pre">permissions</span> <span class="pre">-</span>
<span class="pre">Withdraw</span></code> API key permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by asset</p></li>
<li><p><strong>aclass</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by asset class (default: <code class="docutils literal notranslate"><span class="pre">currency</span></code>)</p></li>
<li><p><strong>method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by method</p></li>
<li><p><strong>key</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by key</p></li>
<li><p><strong>verified</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – List only addresses which are confirmed via E-Mail</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of available addresses for withdrawal</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.withdraw_funds">
<span class="sig-name descname"><span class="pre">withdraw_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.withdraw_funds" title="Link to this definition"></a></dt>
<dd><p>Create a new withdraw. The key must be the name of the withdraw key
defined in the withdraw section of the Kraken WebUI.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#tag/User-Funding/operation/withdrawFunds">https://docs.kraken.com/rest/#tag/User-Funding/operation/withdrawFunds</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – Asset to withdraw</p></li>
<li><p><strong>key</strong> (<em>str</em>) – Withdrawal key name as set up in the account</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount to withdraw</p></li>
<li><p><strong>max_fee</strong> (<em>str</em>) – Fail withdraw if the fee will be higher than the
specified max_fee.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reference id of the withdraw</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id54">
<div class="code-block-caption"><span class="caption-text">Spot Funding: Withdraw Funds</span><a class="headerlink" href="#id54" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Funding</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span> <span class="o">=</span> <span class="n">Funding</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">funding</span><span class="o">.</span><span class="n">withdraw_funds</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>   <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>   <span class="n">key</span><span class="o">=</span><span class="s2">&quot;MyPolkadotWallet&quot;</span>
<span class="linenos">6</span><span class="gp">... </span>   <span class="n">amount</span><span class="o">=</span><span class="mi">4</span>
<span class="linenos">7</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">8</span><span class="go">{ &#39;refid&#39;: &#39;I7KGS6-UFMTTQ-AGBSO6T&#39;}</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Funding.withdraw_methods">
<span class="sig-name descname"><span class="pre">withdraw_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Funding.withdraw_methods" title="Link to this definition"></a></dt>
<dd><p>Returns the list of available withdraw methods for that user.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Funds</span> <span class="pre">permissions</span> <span class="pre">-</span> <span class="pre">Query</span></code> and <code class="docutils literal notranslate"><span class="pre">Funds</span> <span class="pre">permissions</span> <span class="pre">-</span>
<span class="pre">Withdraw</span></code> API key permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by asset</p></li>
<li><p><strong>aclass</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by asset class (default: <code class="docutils literal notranslate"><span class="pre">currency</span></code>)</p></li>
<li><p><strong>network</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Filter by network</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of available withdraw methods</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="kraken.spot.Staking">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kraken.spot.</span></span><span class="sig-name descname"><span class="pre">Staking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kraken.spot.Staking" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../base_api/base_api.html#kraken.base_api.KrakenSpotBaseAPI" title="kraken.base_api.KrakenSpotBaseAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KrakenSpotBaseAPI</span></code></a></p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>Class that implements the Kraken Spot Staking client. Currently there are no
staking endpoints that could be accesses without authentication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API public key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>secret</strong> (<em>str</em><em>, </em><em>optional</em>) – Spot API secret key (default: <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>url</strong> (<em>str</em><em>, </em><em>optional</em>) – Alternative URL to access the Kraken API (default:
<a class="reference external" href="https://api.kraken.com">https://api.kraken.com</a>)</p></li>
<li><p><strong>sandbox</strong> (<em>bool</em><em>, </em><em>optional</em>) – Use the sandbox (not supported for Spot trading so far,
default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id55">
<div class="code-block-caption"><span class="caption-text">Spot Staking: Create the staking client</span><a class="headerlink" href="#id55" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">()</span> <span class="c1"># unauthenticated</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth_staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="c1"># authenticated</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id56">
<div class="code-block-caption"><span class="caption-text">Spot Staking: Create the staking client as context manager</span><a class="headerlink" href="#id56" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">staking</span><span class="p">:</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">staking</span><span class="o">.</span><span class="n">stake_asset</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="s2">&quot;XLM&quot;</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;Lumen Staked&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Staking.get_pending_staking_transactions">
<span class="sig-name descname"><span class="pre">get_pending_staking_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Staking.get_pending_staking_transactions" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>Get the list of pending staking transactions of the user.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> API key permissions.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getStakingPendingDeposits">https://docs.kraken.com/rest/#operation/getStakingPendingDeposits</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of pending staking transactions</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id57">
<div class="code-block-caption"><span class="caption-text">Spot Staking: Get the pending staking transactions</span><a class="headerlink" href="#id57" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span><span class="o">.</span><span class="n">get_pending_staking_transactions</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;method&#39;: &#39;polkadot-staked&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;asset&#39;: &#39;DOT.S&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;refid&#39;: &#39;BOG5AE5-KSCNR4-VPNPEV&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;amount&#39;: &#39;1982.17316&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;fee&#39;: &#39;0.00000000&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;time&#39;: 1623653613,</span>
<span class="linenos">13</span><span class="go">        &#39;status&#39;: &#39;Initial&#39;,</span>
<span class="linenos">14</span><span class="go">        &#39;type&#39;: &#39;bonding&#39;</span>
<span class="linenos">15</span><span class="go">    }, ...</span>
<span class="linenos">16</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Staking.list_stakeable_assets">
<span class="sig-name descname"><span class="pre">list_stakeable_assets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Staking.list_stakeable_assets" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>Get a list of stakeable assets. Only assets that the user is able to
stake will be shown.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> and <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> API key permissions.</p>
<p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getStakingAssetInfo">https://docs.kraken.com/rest/#operation/getStakingAssetInfo</a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Information for all assets that can be staked on Kraken</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id58">
<div class="code-block-caption"><span class="caption-text">Spot Staking: List the stakeable assets</span><a class="headerlink" href="#id58" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span><span class="o">.</span><span class="n">list_stakeable_assets</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &quot;method&quot;: &quot;polkadot-staked&quot;,</span>
<span class="linenos"> 7</span><span class="go">        &quot;asset&quot;: &quot;DOT&quot;,</span>
<span class="linenos"> 8</span><span class="go">        &quot;staking_asset&quot;: &quot;DOT.S&quot;,</span>
<span class="linenos"> 9</span><span class="go">        &quot;rewards&quot;: {</span>
<span class="linenos">10</span><span class="go">            &quot;type&quot;: &quot;percentage&quot;,</span>
<span class="linenos">11</span><span class="go">            &quot;reward&quot;: &quot;7-11&quot;</span>
<span class="linenos">12</span><span class="go">        },</span>
<span class="linenos">13</span><span class="go">        &quot;on_chain&quot;: True,</span>
<span class="linenos">14</span><span class="go">        &quot;can_stake&quot;: True,</span>
<span class="linenos">15</span><span class="go">        &quot;can_unstake&quot;: True,</span>
<span class="linenos">16</span><span class="go">        &quot;minimum_amount&quot;: {</span>
<span class="linenos">17</span><span class="go">            &quot;staking&quot;: &quot;0.0000000100&quot;,</span>
<span class="linenos">18</span><span class="go">            &quot;unstaking&quot;: &quot;0.0000000100&quot;</span>
<span class="linenos">19</span><span class="go">        }</span>
<span class="linenos">20</span><span class="go">    }, {</span>
<span class="linenos">21</span><span class="go">        &quot;method&quot;: &quot;polygon-staked&quot;,</span>
<span class="linenos">22</span><span class="go">        &quot;asset&quot;: &quot;MATIC&quot;,</span>
<span class="linenos">23</span><span class="go">        &quot;staking_asset&quot;: &quot;MATIC.S&quot;,</span>
<span class="linenos">24</span><span class="go">        &quot;rewards&quot;: {</span>
<span class="linenos">25</span><span class="go">            &quot;type&quot;: &quot;percentage&quot;,</span>
<span class="linenos">26</span><span class="go">            &quot;reward&quot;: &quot;1-2&quot;</span>
<span class="linenos">27</span><span class="go">        },</span>
<span class="linenos">28</span><span class="go">        &quot;on_chain&quot;: True,</span>
<span class="linenos">29</span><span class="go">        &quot;can_stake&quot;: True,</span>
<span class="linenos">30</span><span class="go">        &quot;can_unstake&quot;: True,</span>
<span class="linenos">31</span><span class="go">        &quot;minimum_amount&quot;: {</span>
<span class="linenos">32</span><span class="go">            &quot;staking&quot;: &quot;0.0000000000&quot;,</span>
<span class="linenos">33</span><span class="go">            &quot;unstaking&quot;: &quot;0.0000000000&quot;</span>
<span class="linenos">34</span><span class="go">        }</span>
<span class="linenos">35</span><span class="go">    }, ...</span>
<span class="linenos">36</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Staking.list_staking_transactions">
<span class="sig-name descname"><span class="pre">list_staking_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#kraken.spot.Staking.list_staking_transactions" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>List the last 1000 staking transactions of the past 90 days.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">funds</span></code> API key permission.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/getStakingTransactions">https://docs.kraken.com/rest/#operation/getStakingTransactions</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of historical staking transactions</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[dict]</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id59">
<div class="code-block-caption"><span class="caption-text">Spot Staking: List the historical staking transactions</span><a class="headerlink" href="#id59" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos"> 2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span><span class="o">.</span><span class="n">list_staking_transactions</span><span class="p">()</span>
<span class="linenos"> 4</span><span class="go">[</span>
<span class="linenos"> 5</span><span class="go">    {</span>
<span class="linenos"> 6</span><span class="go">        &#39;method&#39;: &#39;polkadot-staked&#39;,</span>
<span class="linenos"> 7</span><span class="go">        &#39;aclass&#39;: &#39;currency&#39;,</span>
<span class="linenos"> 8</span><span class="go">        &#39;asset&#39;: &#39;DOT.S&#39;,</span>
<span class="linenos"> 9</span><span class="go">        &#39;refid&#39;: &#39;POLZN7T-RWBL2YD-3HAPL1&#39;,</span>
<span class="linenos">10</span><span class="go">        &#39;amount&#39;: &#39;121.1&#39;,</span>
<span class="linenos">11</span><span class="go">        &#39;fee&#39;: &#39;1.0000000000&#39;,</span>
<span class="linenos">12</span><span class="go">        &#39;time&#39;: 1622971496,</span>
<span class="linenos">13</span><span class="go">        &#39;status&#39;: &#39;Success&#39;.</span>
<span class="linenos">14</span><span class="go">        &#39;type&#39;: &#39;bonding&#39;,</span>
<span class="linenos">15</span><span class="go">        &#39;bond_start&#39;: 1623234684,</span>
<span class="linenos">16</span><span class="go">        &#39;bond_end&#39;: 1632345316</span>
<span class="linenos">17</span><span class="go">    }, ...</span>
<span class="linenos">18</span><span class="go">]</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="kraken.spot.Staking.return_unique_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">return_unique_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#kraken.spot.Staking.return_unique_id" title="Link to this definition"></a></dt>
<dd><p>Returns a unique uuid string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>uuid</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Staking.stake_asset">
<span class="sig-name descname"><span class="pre">stake_asset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Staking.stake_asset" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>Stake the specified asset from the Spot wallet.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<p>Have a look at <code class="xref py py-func docutils literal notranslate"><span class="pre">kraken.Spot.Staking.list_stakeable_assets()</span></code> to get
information about the stakable assets and methods.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/stake">https://docs.kraken.com/rest/#operation/stake</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – The asset to stake</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount to stake</p></li>
<li><p><strong>method</strong> (<em>str</em>) – The staking method</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reference id of the staking transaction</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id60">
<div class="code-block-caption"><span class="caption-text">Spot Staking: Stake an asset</span><a class="headerlink" href="#id60" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span><span class="o">.</span><span class="n">stake_asset</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos">6</span><span class="gp">... </span>    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;polkadot-staked&quot;</span>
<span class="linenos">7</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">8</span><span class="go">{ &#39;refid&#39;: &#39;BOG5AE5-KSCNR4-VPNPEV&#39; }</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kraken.spot.Staking.unstake_asset">
<span class="sig-name descname"><span class="pre">unstake_asset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">asset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#kraken.spot.Staking.unstake_asset" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v2.2.0.</span></p>
</div>
<p>Unstake an asset and transfer the amount to the Spot wallet.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">Withdraw</span> <span class="pre">funds</span></code> permission in the API key settings.</p>
<p>Have a look at <code class="xref py py-func docutils literal notranslate"><span class="pre">kraken.Spot.Staking.list_stakeable_assets()</span></code> to get
information about the stakeable assets and methods.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.kraken.com/rest/#operation/unstake">https://docs.kraken.com/rest/#operation/unstake</a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>asset</strong> (<em>str</em>) – The asset to stake</p></li>
<li><p><strong>amount</strong> (<em>str</em><em> | </em><em>float</em>) – The amount to stake</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter by staking method (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reference id of the unstaking transaction</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id61">
<div class="code-block-caption"><span class="caption-text">Spot Staking: Unstake a staked asset</span><a class="headerlink" href="#id61" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">kraken.spot</span> <span class="kn">import</span> <span class="n">Staking</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span> <span class="o">=</span> <span class="n">Staking</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;api-key&quot;</span><span class="p">,</span> <span class="n">secret</span><span class="o">=</span><span class="s2">&quot;secret-key&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">staking</span><span class="o">.</span><span class="n">unstake_asset</span><span class="p">(</span>
<span class="linenos">4</span><span class="gp">... </span>    <span class="n">asset</span><span class="o">=</span><span class="s2">&quot;DOT&quot;</span><span class="p">,</span>
<span class="linenos">5</span><span class="gp">... </span>    <span class="n">amount</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos">6</span><span class="gp">... </span>    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;polkadot-staked&quot;</span>
<span class="linenos">7</span><span class="gp">... </span><span class="p">)</span>
<span class="linenos">8</span><span class="go">{ &#39;refid&#39;: &#39;BOG5AE5-KSCNR4-VPNPEV&#39; }</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../examples/trading_bot_templates/futures_bot_template.html" class="btn btn-neutral float-left" title="Futures Trading Bot Template" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="websockets.html" class="btn btn-neutral float-right" title="Spot Websockets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Benjamin Thomas Schwertfeger.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>